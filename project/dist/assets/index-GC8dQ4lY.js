import{r as ae,b as oe,a as le,c as m,u as $,d as ne,N as ie,e as ce,R as de,f as me}from"./vendor-sGmgHiac.js";import{c as xe}from"./supabase-CT8fK44Y.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))l(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&l(c)}).observe(document,{childList:!0,subtree:!0});function o(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function l(r){if(r.ep)return;r.ep=!0;const i=o(r);fetch(r.href,i)}})();var B={exports:{}},A={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F;function he(){if(F)return A;F=1;var t=ae(),s=Symbol.for("react.element"),o=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,r=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function c(u,a,p){var h,N={},b=null,n=null;p!==void 0&&(b=""+p),a.key!==void 0&&(b=""+a.key),a.ref!==void 0&&(n=a.ref);for(h in a)l.call(a,h)&&!i.hasOwnProperty(h)&&(N[h]=a[h]);if(u&&u.defaultProps)for(h in a=u.defaultProps,a)N[h]===void 0&&(N[h]=a[h]);return{$$typeof:s,type:u,key:b,ref:n,props:N,_owner:r.current}}return A.Fragment=o,A.jsx=c,A.jsxs=c,A}var U;function ue(){return U||(U=1,B.exports=he()),B.exports}var e=ue(),D={},q;function pe(){if(q)return D;q=1;var t=oe();return D.createRoot=t.createRoot,D.hydrateRoot=t.hydrateRoot,D}var ge=pe();const fe=le(ge),X="https://krisjvemfpnkmduebqdr.supabase.co",Z="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtyaXNqdmVtZnBua21kdWVicWRyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDc4NTQ5MTMsImV4cCI6MjA2MzQzMDkxM30.jktcXSfSQfcfXUPTDuvu75GuUscMhpsYnvhfloRUf4I",v=xe(X,Z);async function je(){try{console.log("🔗 Testando conexão com Supabase..."),console.log("📍 URL:",X),console.log("🔑 Anon Key (primeiros 20 chars):",Z?.substring(0,20)+"...");const{data:t,error:s}=await v.from("profiles").select("count").limit(1);console.log("📊 Teste de conexão com profiles:",{hasData:!!t,error:s?.message,errorCode:s?.code}),s&&console.error("❌ Erro ao conectar com profiles:",{message:s.message,code:s.code,hint:s.hint,details:s.details});const{data:{user:o},error:l}=await v.auth.getUser();return console.log("👤 Status de autenticação:",{isAuthenticated:!!o,userEmail:o?.email,authError:l?.message}),s||console.log("✅ Conexão com database bem-sucedida!"),!s}catch(t){return console.error("💥 Erro crítico na conexão:",{error:t,message:t instanceof Error?t.message:"Erro desconhecido"}),!1}}async function Ne(t,s){try{console.log("🔐 Tentando login com:",{email:t,password:s.substring(0,3)+"***",emailLength:t.length,passwordLength:s.length});const{data:o,error:l}=await v.auth.signInWithPassword({email:t.trim(),password:s.trim()});if(console.log("📊 Resposta da autenticação:",{hasAuthData:!!o,hasUser:!!o?.user,authError:l?.message,authErrorCode:l?.status||l?.code}),l||!o.user)return console.error("❌ Erro de autenticação detalhado:",{error:l,message:l?.message,status:l?.status,code:l?.code}),{user:null,error:l?.message||"Credenciais inválidas"};console.log("✅ Autenticação bem-sucedida, buscando perfil...",{userId:o.user.id,userEmail:o.user.email});const{data:r,error:i}=await v.from("profiles").select("*").eq("id",o.user.id).single();if(console.log("📋 Resposta do perfil:",{hasProfile:!!r,profileError:i?.message,profileData:r?{id:r.id,nome_completo:r.nome_completo,apelido:r.apelido,cargo:r.cargo}:null}),i)return console.error("❌ Erro ao buscar perfil detalhado:",{error:i,message:i.message,code:i.code,hint:i.hint}),{user:null,error:`Erro ao carregar dados do usuário: ${i.message}`};if(!r)return console.error("❌ Perfil não encontrado para o usuário"),{user:null,error:"Perfil do usuário não encontrado"};const c={id:o.user.id,email:o.user.email,nome:r.nome_completo,apelido:r.apelido,cargo:r.cargo,cod_vendedor:r.cod_vendedor,profile:r};return console.log("✅ Login bem-sucedido:",{email:c.email,nome:c.nome,apelido:c.apelido,cargo:c.cargo}),{user:c,error:null}}catch(o){return console.error("💥 Erro de conexão detalhado:",{error:o,message:o instanceof Error?o.message:"Erro desconhecido",stack:o instanceof Error?o.stack:void 0}),{user:null,error:"Erro na conexão"}}}async function be(){try{const{error:t}=await v.auth.signOut();return t?(console.error("❌ Erro no logout:",t),{error:t.message}):{error:null}}catch(t){return console.error("💥 Erro no logout:",t),{error:"Erro na conexão"}}}async function ye(){try{const{data:{user:t},error:s}=await v.auth.getUser();if(s||!t)return{user:null,error:s?.message||null};const{data:o,error:l}=await v.from("profiles").select("*").eq("id",t.id).single();return l?(console.error("❌ Erro ao buscar perfil:",l),{user:null,error:"Erro ao carregar dados do usuário"}):{user:{id:t.id,email:t.email,nome:o.nome_completo,apelido:o.apelido,cargo:o.cargo,cod_vendedor:o.cod_vendedor,profile:o},error:null}}catch(t){return console.error("💥 Erro ao verificar usuário:",t),{user:null,error:"Erro na conexão"}}}async function ve(){try{const{data:t,error:s}=await v.from("tabela_clientes").select("*");return s?(console.error("Erro ao buscar clientes:",s),{data:[],error:s.message}):{data:t,error:null}}catch(t){return console.error("Erro na conexão ao buscar clientes:",t),{data:[],error:"Erro na conexão"}}}async function we(){try{const{data:t,error:s}=await v.from("rotas").select("*");return s?(console.error("Erro ao buscar rotas:",s),{data:[],error:s.message}):{data:t,error:null}}catch(t){return console.error("Erro na conexão ao buscar rotas:",t),{data:[],error:"Erro na conexão"}}}async function Ce(){try{const{data:t,error:s}=await v.from("cidades").select("*");return s?(console.error("Erro ao buscar cidades:",s),{data:[],error:s.message}):{data:t,error:null}}catch(t){return console.error("Erro na conexão ao buscar cidades:",t),{data:[],error:"Erro na conexão"}}}async function ke(){try{const{data:t,error:s}=await v.from("compras_produto_cliente").select("*");return s?(console.error("Erro ao buscar vendas:",s),{data:[],error:s.message}):{data:t,error:null}}catch(t){return console.error("Erro na conexão ao buscar vendas:",t),{data:[],error:"Erro na conexão"}}}async function Re(t){try{const{data:s,error:o}=await v.from("profiles").select("*").eq("id",t).single();return o?(console.error("Erro ao buscar perfil:",o),{data:null,error:o.message}):{data:s,error:null}}catch(s){return console.error("Erro na conexão ao buscar perfil:",s),{data:null,error:"Erro na conexão"}}}const K=m.createContext(void 0),C=()=>{const t=m.useContext(K);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},$e=({children:t})=>{const[s,o]=m.useState(null),[l,r]=m.useState(!0);m.useEffect(()=>{(async()=>{const{user:p,error:h}=await ye();p&&!h&&o(p),r(!1)})()},[]);const u={user:s,loading:l,login:async(a,p)=>{r(!0);try{const{user:h,error:N}=await Ne(a,p);return N||!h?(r(!1),{success:!1,error:N||"Erro desconhecido"}):(o(h),r(!1),{success:!0})}catch{return r(!1),{success:!1,error:"Erro na conexão"}}},logout:async()=>{r(!0);try{s?.profile?.cod_vendedor&&localStorage.removeItem(`vendedor_${s.profile.cod_vendedor}`),await be(),o(null)}catch(a){console.error("Erro no logout:",a)}finally{r(!1)}}};return e.jsx(K.Provider,{value:u,children:t})},Q=m.createContext(void 0),M=()=>{const t=m.useContext(Q);if(t===void 0)throw new Error("useUserData must be used within a UserDataProvider");return t},E=({children:t})=>{const{user:s}=C(),[o,l]=m.useState({profile:null,clientes:[],rotas:[],cidades:[],vendas:[]}),[r,i]=m.useState(!1),[c,u]=m.useState(null),a=async n=>{i(!0),u(null);const x={profile:null,clientes:[],rotas:[],cidades:[],vendas:[]};try{const{data:g,error:y}=await Re(n);if(y)throw new Error(`Erro ao carregar perfil: ${y}`);x.profile=g;const R=[{key:"clientes",fn:ve},{key:"rotas",fn:we},{key:"cidades",fn:Ce},{key:"vendas",fn:ke}];for(const{key:f,fn:k}of R)try{const{data:w,error:T}=await k();T?(console.warn(`Erro ao carregar ${f}:`,T),x[f]=[]):x[f]=w||[]}catch(w){console.warn(`Erro ao carregar ${f}:`,w),x[f]=[]}const d=`userData_${n}`;localStorage.setItem(d,JSON.stringify({...x,loadedAt:new Date().toISOString()})),l(x)}catch(g){console.error("Erro ao carregar dados:",g),u(g instanceof Error?g.message:"Erro desconhecido")}finally{i(!1)}};m.useEffect(()=>{if(s?.id){const n=`userData_${s.id}`,x=localStorage.getItem(n);if(x)try{const g=JSON.parse(x);l(g)}catch(g){console.warn("Erro ao carregar cache:",g),a(s.id)}else a(s.id)}else l({profile:null,clientes:[],rotas:[],cidades:[],vendas:[]}),u(null)},[s?.id]);const p=n=>Array.isArray(o[n])?o[n].length>0:o[n]!==null,h=()=>{s?.id&&a(s.id)},N=()=>{if(s?.id){const n=`userData_${s.id}`;localStorage.removeItem(n)}l({profile:null,clientes:[],rotas:[],cidades:[],vendas:[]}),u(null)},b={profile:o.profile,clientes:o.clientes,rotas:o.rotas,cidades:o.cidades,vendas:o.vendas,loading:r,error:c,hasData:p,refresh:h,clear:N};return e.jsx(Q.Provider,{value:b,children:t})};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Se=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(s,o,l)=>l?l.toUpperCase():o.toLowerCase()),J=t=>{const s=Se(t);return s.charAt(0).toUpperCase()+s.slice(1)},H=(...t)=>t.filter((s,o,l)=>!!s&&s.trim()!==""&&l.indexOf(s)===o).join(" ").trim(),Me=t=>{for(const s in t)if(s.startsWith("aria-")||s==="role"||s==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var _e={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Le=m.forwardRef(({color:t="currentColor",size:s=24,strokeWidth:o=2,absoluteStrokeWidth:l,className:r="",children:i,iconNode:c,...u},a)=>m.createElement("svg",{ref:a,..._e,width:s,height:s,stroke:t,strokeWidth:l?Number(o)*24/Number(s):o,className:H("lucide",r),...!i&&!Me(u)&&{"aria-hidden":"true"},...u},[...c.map(([p,h])=>m.createElement(p,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j=(t,s)=>{const o=m.forwardRef(({className:l,...r},i)=>m.createElement(Le,{ref:i,iconNode:s,className:H(`lucide-${Ee(J(t))}`,`lucide-${t}`,l),...r}));return o.displayName=J(t),o};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],P=j("arrow-left",Ae);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pe=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],G=j("building",Pe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],I=j("chevron-down",Te);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],O=j("chevron-up",De);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ie=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Oe=j("circle-alert",Ie);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Ve=j("eye-off",ze);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Fe=j("eye",Be);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ue=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Y=j("funnel",Ue);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],Je=j("log-in",qe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const We=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],_=j("log-out",We);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xe=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],ee=j("map-pin",Xe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],Ke=j("map",Ze);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],se=j("message-circle",Qe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],Ge=j("mic",He);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],te=j("phone",Ye);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const es=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],V=j("search",es);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ss=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],ts=j("target",ss);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rs=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],as=j("trending-up",rs);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const os=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],z=j("triangle-alert",os);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ls=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],L=j("user",ls),ns="/assets/Logo%20Focco%20Brasil-DXXX8y_m.png",W={email:"daniel.treinamento@gmail.com",password:"123"},is=()=>{const[t,s]=m.useState(W.email),[o,l]=m.useState(W.password),[r,i]=m.useState(!1),[c,u]=m.useState(""),[a,p]=m.useState(!1),h=$(),{login:N,user:b}=C();m.useEffect(()=>{b&&h("/dashboard")},[b,h]),m.useEffect(()=>{je()},[]);const n=async x=>{x.preventDefault(),u(""),p(!0),console.log("🔑 Iniciando processo de login..."),console.log("👤 Email:",t),console.log("🔒 Senha tem",o.length,"caracteres");try{const g=await N(t,o);console.log("📋 Resultado do login:",g),g.success?(console.log("✅ Login bem-sucedido, redirecionando..."),h("/dashboard")):(console.error("❌ Falha no login:",g.error),u(g.error||"Erro desconhecido"))}catch(g){console.error("💥 Erro crítico:",g),u("Erro na conexão com o servidor")}finally{p(!1)}};return e.jsx("div",{className:"min-h-screen gradient-bg flex items-center justify-center px-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8 w-full max-w-md",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("img",{src:ns,alt:"Focco Brasil",className:"w-15 h-10 mb-4 mx-auto"}),e.jsx("h1",{className:"text-2xl font-semibold text-primary mb-2",children:"Bem-vindo"}),e.jsx("p",{className:"text-gray-600",children:"Acesse sua plataforma de vendas"})]}),e.jsxs("form",{onSubmit:n,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"E-mail"}),e.jsx("input",{type:"email",value:t,onChange:x=>s(x.target.value),placeholder:"seu.email@empresa.com",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",required:!0,disabled:a})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Senha"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:r?"text":"password",value:o,onChange:x=>l(x.target.value),placeholder:"••••••••",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent pr-12",required:!0,disabled:a}),e.jsx("button",{type:"button",onClick:()=>i(!r),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",children:r?e.jsx(Ve,{size:20}):e.jsx(Fe,{size:20})})]})]}),c&&e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-center gap-2",children:[e.jsx(Oe,{className:"h-5 w-5 text-red-600"}),e.jsx("span",{className:"text-red-700 text-sm",children:c})]}),e.jsx("button",{type:"submit",disabled:a,className:"w-full bg-primary text-white py-3 rounded-lg font-medium hover:bg-primary/90 transition-colors flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:a?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),"Entrando..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Je,{size:20}),"Entrar no Sistema"]})})]}),e.jsx("div",{className:"text-center mt-8 text-sm text-gray-500",children:e.jsx("p",{children:"Plataforma de Gestão Comercial"})})]})})},cs=()=>{const t=$(),{user:s,logout:o}=C();M();const[l,r]=m.useState(null),[i,c]=m.useState(null),u=[{nome:"Ótica Visão Perfeita",rota:"Centro",meta:2e5,vendido:18e4,percentual:90},{nome:"Ótica Foco",rota:"Norte",meta:17e4,vendido:15e4,percentual:88},{nome:"Ótica Olhar Certo",rota:"Sul",meta:15e4,vendido:13e4,percentual:87},{nome:"Ótica Visão Global",rota:"Leste",meta:14e4,vendido:12e4,percentual:86},{nome:"Ótica Visão & Cia",rota:"Centro",meta:13e4,vendido:11e4,percentual:85},{nome:"Ótica Moderna",rota:"Norte",meta:12e4,vendido:105e3,percentual:88},{nome:"Ótica Prime",rota:"Sul",meta:11e4,vendido:95e3,percentual:86},{nome:"Ótica Central",rota:"Leste",meta:1e5,vendido:85e3,percentual:85},{nome:"Ótica Ideal",rota:"Centro",meta:95e3,vendido:8e4,percentual:84},{nome:"Ótica Plus",rota:"Norte",meta:9e4,vendido:75e3,percentual:83},{nome:"Ótica Master",rota:"Sul",meta:85e3,vendido:7e4,percentual:82},{nome:"Ótica Elite",rota:"Leste",meta:8e4,vendido:65e3,percentual:81},{nome:"Ótica Top",rota:"Centro",meta:75e3,vendido:6e4,percentual:80},{nome:"Ótica Nova",rota:"Norte",meta:7e4,vendido:55e3,percentual:79},{nome:"Ótica Class",rota:"Sul",meta:65e3,vendido:5e4,percentual:77},{nome:"Ótica Style",rota:"Leste",meta:6e4,vendido:45e3,percentual:75},{nome:"Ótica Trend",rota:"Centro",meta:55e3,vendido:4e4,percentual:73},{nome:"Ótica Flash",rota:"Norte",meta:5e4,vendido:35e3,percentual:70},{nome:"Ótica Smart",rota:"Sul",meta:45e3,vendido:3e4,percentual:67},{nome:"Ótica Pro",rota:"Leste",meta:4e4,vendido:25e3,percentual:63}],a=m.useMemo(()=>{let n=[...u];return l?n.sort((g,y)=>l==="asc"?g.rota.localeCompare(y.rota):y.rota.localeCompare(g.rota)):i&&n.sort((g,y)=>i==="asc"?g.percentual-y.percentual:y.percentual-g.percentual),n.map(g=>{const y=u.sort((R,d)=>d.percentual-R.percentual).findIndex(R=>R.nome===g.nome)+1;return{...g,posicao:y}})},[l,i]),p=()=>{c(null),r(l===null?"asc":l==="asc"?"desc":null)},h=()=>{r(null),c(i===null?"desc":i==="desc"?"asc":null)},N=()=>{o(),t("/")},b={oticasPositivadas:15,oticasPositivadasAnterior:12,semVendas90d:3};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("header",{className:"bg-primary text-white shadow-lg",children:e.jsx("div",{className:"max-w-7xl mx-auto px-3 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex items-center justify-between h-14 relative",children:[e.jsx("div",{className:"flex items-center"}),e.jsx("div",{className:"flex items-center absolute left-1/2 transform -translate-x-1/2",children:e.jsx("h1",{className:"text-lg font-bold",children:"Copiloto"})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("div",{className:"flex items-center space-x-1.5",children:[e.jsx(L,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm",children:s?.apelido||s?.nome||s?.email||"Usuário"})]}),e.jsx("button",{onClick:N,className:"p-1.5 hover:bg-white/10 rounded-full transition-colors",children:e.jsx(_,{className:"h-4 w-4"})})]})]})})}),e.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Dashboard Pessoal"}),e.jsxs("p",{className:"text-gray-600",children:["Bem-vindo, ",s?.apelido||s?.nome||s?.email||"Usuário","! Aqui estão suas métricas"]})]}),e.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[e.jsx("button",{onClick:()=>t("/inadimplentes"),className:"bg-red-600 text-white p-2 sm:px-4 sm:py-2 rounded-lg font-medium hover:bg-red-700 transition-colors flex items-center justify-center",children:e.jsx(z,{className:"h-4 w-4 sm:h-5 sm:w-5"})}),e.jsx("button",{onClick:()=>t("/rotas"),className:"bg-primary text-white p-2 sm:px-4 sm:py-2 rounded-lg font-medium hover:bg-primary/90 transition-colors flex items-center justify-center",children:e.jsx(Ke,{className:"h-4 w-4 sm:h-5 sm:w-5"})})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-md border border-gray-200 p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-gray-600",children:"Vendas do Mês"}),e.jsx("p",{className:"text-xl font-bold text-gray-900 mt-1",children:"R$ 125.000,00"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Anterior: R$ 100.000,00"})]}),e.jsx("div",{className:"bg-blue-50 p-2 rounded-full",children:e.jsx(as,{className:"h-5 w-5 text-blue-600"})})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-md border border-gray-200 p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-gray-600",children:"Óticas Positivadas"}),e.jsxs("p",{className:"text-xl font-bold text-gray-900 mt-1",children:[b.oticasPositivadas," ","óticas"]}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Anterior: ",b.oticasPositivadasAnterior," ","óticas"]})]}),e.jsx("div",{className:"bg-green-50 p-2 rounded-full",children:e.jsx(G,{className:"h-5 w-5 text-green-600"})})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-md border border-gray-200 p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-gray-600",children:"Meta"}),e.jsx("p",{className:"text-xl font-bold text-gray-900 mt-1",children:"83%"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Anterior: 75%"})]}),e.jsx("div",{className:"bg-yellow-50 p-2 rounded-full",children:e.jsx(ts,{className:"h-5 w-5 text-yellow-600"})})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-md border border-gray-200 p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-gray-600",children:"Sem Vendas +90d"}),e.jsxs("p",{className:"text-xl font-bold text-red-600 mt-1",children:[b.semVendas90d," ","óticas"]})]}),e.jsx("div",{className:"bg-red-50 p-2 rounded-full",children:e.jsx(z,{className:"h-5 w-5 text-red-600"})})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md border border-gray-200 p-6 mb-6",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-map-pin h-5 w-5 text-primary mr-2","aria-hidden":"true",children:[e.jsx("path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0"}),e.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Top 10 Cidades"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-xs font-medium text-gray-500 w-6",children:"#1"}),e.jsx("span",{className:"text-xs font-medium text-gray-900",children:"Fortaleza"})]}),e.jsx("span",{className:"text-xs font-medium text-gray-900",children:"R$ 450.000,00"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-xs font-medium text-gray-500 w-6",children:"#2"}),e.jsx("span",{className:"text-xs font-medium text-gray-900",children:"Caucaia"})]}),e.jsx("span",{className:"text-xs font-medium text-gray-900",children:"R$ 280.000,00"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-xs font-medium text-gray-500 w-6",children:"#3"}),e.jsx("span",{className:"text-xs font-medium text-gray-900",children:"Maracanaú"})]}),e.jsx("span",{className:"text-xs font-medium text-gray-900",children:"R$ 250.000,00"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-xs font-medium text-gray-500 w-6",children:"#4"}),e.jsx("span",{className:"text-xs font-medium text-gray-900",children:"Sobral"})]}),e.jsx("span",{className:"text-xs font-medium text-gray-900",children:"R$ 220.000,00"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-xs font-medium text-gray-500 w-6",children:"#5"}),e.jsx("span",{className:"text-xs font-medium text-gray-900",children:"Juazeiro do Norte"})]}),e.jsx("span",{className:"text-xs font-medium text-gray-900",children:"R$ 200.000,00"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-xs font-medium text-gray-500 w-6",children:"#6"}),e.jsx("span",{className:"text-xs font-medium text-gray-900",children:"Crato"})]}),e.jsx("span",{className:"text-xs font-medium text-gray-900",children:"R$ 180.000,00"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-xs font-medium text-gray-500 w-6",children:"#7"}),e.jsx("span",{className:"text-xs font-medium text-gray-900",children:"Iguatu"})]}),e.jsx("span",{className:"text-xs font-medium text-gray-900",children:"R$ 160.000,00"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-xs font-medium text-gray-500 w-6",children:"#8"}),e.jsx("span",{className:"text-xs font-medium text-gray-900",children:"Quixadá"})]}),e.jsx("span",{className:"text-xs font-medium text-gray-900",children:"R$ 140.000,00"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-xs font-medium text-gray-500 w-6",children:"#9"}),e.jsx("span",{className:"text-xs font-medium text-gray-900",children:"Canindé"})]}),e.jsx("span",{className:"text-xs font-medium text-gray-900",children:"R$ 120.000,00"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-xs font-medium text-gray-500 w-6",children:"#10"}),e.jsx("span",{className:"text-xs font-medium text-gray-900",children:"Ceará-Mirim"})]}),e.jsx("span",{className:"text-xs font-medium text-gray-900",children:"R$ 100.000,00"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md border border-gray-200 p-6 mb-6",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-building h-5 w-5 text-primary mr-2","aria-hidden":"true",children:[e.jsx("rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2"}),e.jsx("path",{d:"M9 22v-4h6v4"}),e.jsx("path",{d:"M8 6h.01"}),e.jsx("path",{d:"M16 6h.01"}),e.jsx("path",{d:"M12 6h.01"}),e.jsx("path",{d:"M12 10h.01"}),e.jsx("path",{d:"M12 14h.01"}),e.jsx("path",{d:"M16 10h.01"}),e.jsx("path",{d:"M16 14h.01"}),e.jsx("path",{d:"M8 10h.01"}),e.jsx("path",{d:"M8 14h.01"})]}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Top 20 Clientes"})]}),e.jsxs("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-2 text-xs font-semibold text-gray-600 border-b border-gray-200 pb-2 mb-2",children:[e.jsx("div",{className:"text-left",children:"Cliente"}),e.jsxs("div",{className:"text-center flex items-center justify-center",children:[e.jsx("span",{children:"Rota"}),e.jsx("button",{onClick:p,className:"ml-1 p-0.5 hover:bg-gray-100 rounded transition-colors",children:l==="asc"?e.jsx(O,{className:"h-3 w-3"}):l==="desc"?e.jsx(I,{className:"h-3 w-3"}):e.jsxs("div",{className:"flex flex-col",children:[e.jsx(O,{className:"h-2 w-2 -mb-0.5"}),e.jsx(I,{className:"h-2 w-2"})]})})]}),e.jsxs("div",{className:"text-center flex items-center justify-center",children:[e.jsx("span",{children:"Meta x Vendido"}),e.jsx("button",{onClick:h,className:"ml-1 p-0.5 hover:bg-gray-100 rounded transition-colors",children:i==="desc"?e.jsx(I,{className:"h-3 w-3"}):i==="asc"?e.jsx(O,{className:"h-3 w-3"}):e.jsxs("div",{className:"flex flex-col",children:[e.jsx(O,{className:"h-2 w-2 -mb-0.5"}),e.jsx(I,{className:"h-2 w-2"})]})})]})]}),a.map(n=>e.jsxs("div",{className:"grid grid-cols-3 gap-2 text-xs items-center py-1",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsxs("span",{className:"font-medium text-gray-500 w-6",children:["#",n.posicao]}),e.jsx("span",{className:"font-medium text-gray-900 truncate",children:n.nome})]}),e.jsx("div",{className:"text-center text-gray-600",children:n.rota}),e.jsx("div",{className:"relative",children:e.jsxs("div",{className:"w-full bg-gray-200 rounded h-6 sm:h-5 relative",children:[e.jsx("div",{className:"bg-primary h-6 sm:h-5 rounded transition-all duration-300",style:{width:`${n.percentual}%`}}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center px-2 sm:px-4",children:e.jsxs("span",{className:"text-[9px] sm:text-[10px] text-white font-medium tracking-tight",children:[e.jsxs("span",{className:"hidden xs:inline",children:[n.meta.toLocaleString("pt-BR")," | ",n.vendido.toLocaleString("pt-BR")," | "]}),n.percentual,"%"]})})]})})]},n.nome))]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-target h-5 w-5 text-primary mr-2","aria-hidden":"true",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("circle",{cx:"12",cy:"12",r:"6"}),e.jsx("circle",{cx:"12",cy:"12",r:"2"})]}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Ranking Rotas"})]}),e.jsx("div",{children:e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"flex justify-between mb-2 px-8 sm:px-12",children:[e.jsx("span",{className:"text-[8px] sm:text-[9px] text-gray-500",children:"0"}),e.jsx("span",{className:"text-[8px] sm:text-[9px] text-gray-500",children:"100k"}),e.jsx("span",{className:"text-[8px] sm:text-[9px] text-gray-500",children:"200k"}),e.jsx("span",{className:"text-[8px] sm:text-[9px] text-gray-500",children:"300k"}),e.jsx("span",{className:"text-[8px] sm:text-[9px] text-gray-500",children:"400k"}),e.jsx("span",{className:"text-[8px] sm:text-[9px] text-gray-500",children:"500k"})]}),e.jsxs("div",{className:"absolute top-5 left-8 sm:left-12 right-2 sm:right-4 h-24 sm:h-32 pointer-events-none",children:[e.jsx("div",{className:"absolute top-0 bottom-0 w-px bg-gray-200 chart-grid-line-0"}),e.jsx("div",{className:"absolute top-0 bottom-0 w-px bg-gray-200 chart-grid-line-20"}),e.jsx("div",{className:"absolute top-0 bottom-0 w-px bg-gray-200 chart-grid-line-40"}),e.jsx("div",{className:"absolute top-0 bottom-0 w-px bg-gray-200 chart-grid-line-60"}),e.jsx("div",{className:"absolute top-0 bottom-0 w-px bg-gray-200 chart-grid-line-80"}),e.jsx("div",{className:"absolute top-0 bottom-0 w-px bg-gray-200 chart-grid-line-100"})]}),e.jsxs("div",{className:"space-y-2 sm:space-y-3 pl-8 sm:pl-12 pr-2 sm:pr-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 sm:w-12 text-right pr-1 sm:pr-2",children:e.jsx("span",{className:"text-[8px] sm:text-[9px] text-gray-700 font-medium",children:"Centro"})}),e.jsx("div",{className:"flex-1 relative",children:e.jsxs("div",{className:"h-4 sm:h-5 bg-gray-200 rounded relative chart-bar-full",children:[e.jsx("div",{className:"h-4 sm:h-5 bg-primary rounded transition-all duration-300 relative flex items-center justify-center chart-progress-90",children:e.jsx("span",{className:"text-[7px] sm:text-[8px] text-white font-medium",children:"90%"})}),e.jsx("div",{className:"absolute right-0.5 sm:right-1 top-0 h-4 sm:h-5 flex items-center",children:e.jsx("span",{className:"text-[7px] sm:text-[8px] text-gray-600 font-medium",children:e.jsx("span",{className:"hidden sm:inline",children:"450k/500k"})})})]})})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 sm:w-12 text-right pr-1 sm:pr-2",children:e.jsx("span",{className:"text-[8px] sm:text-[9px] text-gray-700 font-medium",children:"Norte"})}),e.jsx("div",{className:"flex-1 relative",children:e.jsxs("div",{className:"h-4 sm:h-5 bg-gray-200 rounded relative chart-bar-80",children:[e.jsx("div",{className:"h-4 sm:h-5 bg-primary rounded transition-all duration-300 relative flex items-center justify-center chart-progress-80",children:e.jsx("span",{className:"text-[7px] sm:text-[8px] text-white font-medium",children:"80%"})}),e.jsx("div",{className:"absolute right-0.5 sm:right-1 top-0 h-4 sm:h-5 flex items-center",children:e.jsx("span",{className:"text-[7px] sm:text-[8px] text-gray-600 font-medium",children:e.jsx("span",{className:"hidden sm:inline",children:"320k/400k"})})})]})})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 sm:w-12 text-right pr-1 sm:pr-2",children:e.jsx("span",{className:"text-[8px] sm:text-[9px] text-gray-700 font-medium",children:"Sul"})}),e.jsx("div",{className:"flex-1 relative",children:e.jsxs("div",{className:"h-4 sm:h-5 bg-gray-200 rounded relative chart-bar-90",children:[e.jsx("div",{className:"h-4 sm:h-5 bg-primary rounded transition-all duration-300 relative flex items-center justify-center chart-progress-70",children:e.jsx("span",{className:"text-[7px] sm:text-[8px] text-white font-medium",children:"70%"})}),e.jsx("div",{className:"absolute right-0.5 sm:right-1 top-0 h-4 sm:h-5 flex items-center",children:e.jsx("span",{className:"text-[7px] sm:text-[8px] text-gray-600 font-medium",children:e.jsx("span",{className:"hidden sm:inline",children:"315k/450k"})})})]})})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 sm:w-12 text-right pr-1 sm:pr-2",children:e.jsx("span",{className:"text-[8px] sm:text-[9px] text-gray-700 font-medium",children:"Leste"})}),e.jsx("div",{className:"flex-1 relative",children:e.jsxs("div",{className:"h-4 sm:h-5 bg-gray-200 rounded relative chart-bar-70",children:[e.jsx("div",{className:"h-4 sm:h-5 bg-primary rounded transition-all duration-300 relative flex items-center justify-center chart-progress-60",children:e.jsx("span",{className:"text-[7px] sm:text-[8px] text-white font-medium",children:"60%"})}),e.jsx("div",{className:"absolute right-0.5 sm:right-1 top-0 h-4 sm:h-5 flex items-center",children:e.jsx("span",{className:"text-[7px] sm:text-[8px] text-gray-600 font-medium",children:e.jsx("span",{className:"hidden sm:inline",children:"210k/350k"})})})]})})]})]}),e.jsxs("div",{className:"flex items-center justify-center mt-2 sm:mt-3 space-x-3 sm:space-x-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-2 h-2 sm:w-3 sm:h-3 bg-gray-200 rounded mr-1"}),e.jsx("span",{className:"text-[8px] sm:text-[9px] text-gray-600",children:"Meta"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-2 h-2 sm:w-3 sm:h-3 bg-primary rounded mr-1"}),e.jsx("span",{className:"text-[8px] sm:text-[9px] text-gray-600",children:"Vendido"})]})]})]})})]})]})]})},ds=()=>{const t=$(),{user:s,logout:o}=C();M();const[l,r]=m.useState(""),[i,c]=m.useState("nome"),[u,a]=m.useState(!1),p=m.useRef(null),h=n=>n.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^\w\s]/gi,"").toLowerCase().trim();m.useEffect(()=>{const n=x=>{p.current&&!p.current.contains(x.target)&&a(!1)};return document.addEventListener("mousedown",n),()=>document.removeEventListener("mousedown",n)},[]);const b=[{id:1,nome:"Ótica Paris",codigo:"100456",status:"Liberado",statusColor:"bg-green-100 text-green-800",oportunidade:"R$19.000",limiteCred:"R$25.000",meta:"R$18.000",vendido:"R$9.000",bairro:"Aldeota",dsv:45},{id:2,nome:"Ótica Silvano",codigo:"100789",status:"Bloqueado",statusColor:"bg-red-100 text-red-800",oportunidade:"R$15.000",limiteCred:"R$20.000",meta:"R$18.000",vendido:"R$9.000",bairro:"Meireles",dsv:120},{id:3,nome:"Ótica Visão",codigo:"100123",status:"Liberado",statusColor:"bg-green-100 text-green-800",oportunidade:"R$10.000",limiteCred:"R$15.000",meta:"R$12.000",vendido:"R$4.500",bairro:"Centro",dsv:30}].filter(n=>{const x=h(l);return h(n.nome).includes(x)||h(n.codigo).includes(x)}).sort((n,x)=>{switch(i){case"bairro-az":return n.bairro.localeCompare(x.bairro);case"bairro-za":return x.bairro.localeCompare(n.bairro);case"bairro":return n.bairro.localeCompare(x.bairro);case"maior-oportunidade":return parseFloat(x.oportunidade.replace("R$","").replace(".","").replace(",","."))-parseFloat(n.oportunidade.replace("R$","").replace(".","").replace(",","."));case"menor-oportunidade":return parseFloat(n.oportunidade.replace("R$","").replace(".","").replace(",","."))-parseFloat(x.oportunidade.replace("R$","").replace(".","").replace(",","."));default:return n.nome.localeCompare(x.nome)}});return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("header",{className:"bg-primary text-white shadow-lg",children:e.jsx("div",{className:"max-w-7xl mx-auto px-3 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex items-center justify-between h-14 relative",children:[e.jsx("div",{className:"flex items-center",children:e.jsx("button",{onClick:()=>t("/cidades"),className:"p-1.5 hover:bg-white/10 rounded-full transition-colors mr-2",children:e.jsx(P,{className:"h-4 w-4"})})}),e.jsx("div",{className:"flex items-center absolute left-1/2 transform -translate-x-1/2",children:e.jsx("h1",{className:"text-lg font-bold",children:"Copiloto"})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("div",{className:"flex items-center space-x-1.5",children:[e.jsx(L,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm",children:s?.apelido||s?.nome||s?.email||"Usuário"})]}),e.jsx("button",{onClick:()=>{o(),t("/")},className:"p-1.5 hover:bg-white/10 rounded-full transition-colors",children:e.jsx(_,{className:"h-4 w-4"})})]})]})})}),e.jsxs("main",{className:"max-w-7xl mx-auto px-3 sm:px-6 lg:px-8 py-4",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(V,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Buscar Óticas...",value:l,onChange:n=>r(n.target.value),className:"w-full pl-9 pr-4 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]}),e.jsxs("div",{className:"relative flex-shrink-0",ref:p,children:[e.jsx("button",{className:"p-2 border border-gray-300 rounded-lg hover:bg-gray-50",onClick:()=>a(!u),children:e.jsx(Y,{className:"h-4 w-4 text-gray-600"})}),u&&e.jsxs("div",{className:"absolute right-0 top-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg z-10 min-w-36",children:[e.jsx("button",{className:"w-full px-3 py-2 text-xs text-left hover:bg-gray-50 border-b border-gray-200",onClick:()=>{c("bairro-az"),a(!1)},children:"A-Z"}),e.jsx("button",{className:"w-full px-3 py-2 text-xs text-left hover:bg-gray-50 border-b border-gray-200",onClick:()=>{c("bairro-za"),a(!1)},children:"Z-A"}),e.jsx("button",{className:"w-full px-3 py-2 text-xs text-left hover:bg-gray-50 border-b border-gray-200",onClick:()=>{c("bairro"),a(!1)},children:"Bairro"}),e.jsx("button",{className:"w-full px-3 py-2 text-xs text-left hover:bg-gray-50 border-b border-gray-200",onClick:()=>{c("maior-oportunidade"),a(!1)},children:"Maior Oport"}),e.jsx("button",{className:"w-full px-3 py-2 text-xs text-left hover:bg-gray-50",onClick:()=>{c("menor-oportunidade"),a(!1)},children:"Menor Oport"})]})]})]}),e.jsx("div",{className:"space-y-3",children:b.map(n=>e.jsx("div",{className:"bg-white rounded-lg shadow-md border border-gray-200 p-4 hover:shadow-lg hover:border-gray-300 transition-all cursor-pointer",onClick:()=>t(`/cliente/${n.id}`),children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("h3",{className:"text-base font-semibold text-gray-900",children:n.nome}),e.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${n.statusColor}`,children:n.status}),e.jsx("span",{className:"text-xs text-gray-500",children:"Ativo"})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("span",{className:"text-xs text-gray-600",children:"DSV:"}),e.jsxs("span",{className:"text-xs font-semibold text-red-600",children:[n.dsv,"d"]})]})]}),e.jsxs("p",{className:"text-xs text-gray-600 mb-2 leading-tight",children:["Código: ",n.codigo]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs leading-tight",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-green-600",children:"Oportunidade:"}),e.jsx("span",{className:"ml-1 font-semibold text-green-700",children:n.oportunidade})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("span",{className:"text-gray-600",children:"Limit Créd:"}),e.jsx("span",{className:"ml-1 font-semibold text-gray-800",children:n.limiteCred})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-blue-600",children:"Meta:"}),e.jsx("span",{className:"ml-1 font-semibold text-blue-700",children:n.meta})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("span",{className:"text-gray-600",children:"Bairro:"}),e.jsx("span",{className:"ml-1 font-semibold text-gray-800",children:n.bairro})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-purple-600",children:"Vendido:"}),e.jsx("span",{className:"ml-1 font-semibold text-purple-700",children:n.vendido})]}),e.jsx("div",{})]})]})},n.id))})]})]})},ms=()=>{const t=$(),{user:s,logout:o}=C();M();const[l,r]=m.useState(""),i=a=>a.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^\w\s]/gi,"").toLowerCase().trim(),u=[{id:1,nome:"Rota Centro",oportunidade:"R$ 10.573,00",cidades:5,oticas:25,semVendas90d:2},{id:2,nome:"Rota Norte",oportunidade:"R$ 8.250,00",cidades:3,oticas:15,semVendas90d:1},{id:3,nome:"Rota Sul",oportunidade:"R$ 12.800,00",cidades:4,oticas:20,semVendas90d:0},{id:4,nome:"Rota Leste",oportunidade:"R$ 15.400,00",cidades:6,oticas:30,semVendas90d:3}].filter(a=>{const p=i(l);return i(a.nome).includes(p)});return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("header",{className:"bg-primary text-white shadow-lg",children:e.jsx("div",{className:"max-w-7xl mx-auto px-3 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex items-center justify-between h-14 relative",children:[e.jsx("div",{className:"flex items-center",children:e.jsx("button",{onClick:()=>t("/dashboard"),className:"p-1.5 hover:bg-white/10 rounded-full transition-colors mr-2",children:e.jsx(P,{className:"h-4 w-4"})})}),e.jsx("div",{className:"flex items-center absolute left-1/2 transform -translate-x-1/2",children:e.jsx("h1",{className:"text-lg font-bold",children:"Copiloto"})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("div",{className:"flex items-center space-x-1.5",children:[e.jsx(L,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm",children:s?.apelido||s?.nome||s?.email||"Usuário"})]}),e.jsx("button",{onClick:()=>{o(),t("/")},className:"p-1.5 hover:bg-white/10 rounded-full transition-colors",children:e.jsx(_,{className:"h-4 w-4"})})]})]})})}),e.jsxs("main",{className:"max-w-7xl mx-auto px-3 sm:px-6 lg:px-8 py-4",children:[e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"relative",children:[e.jsx(V,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Buscar rotas...",value:l,onChange:a=>r(a.target.value),className:"w-full pl-9 pr-4 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]})}),e.jsx("div",{className:"space-y-3",children:u.map(a=>e.jsx("div",{className:"bg-white rounded-lg shadow-md border border-gray-200 p-4 hover:shadow-lg hover:border-gray-300 transition-all cursor-pointer",onClick:()=>t("/cidades"),children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1.5",children:[e.jsx(ee,{className:"h-4 w-4 text-primary"}),e.jsx("h3",{className:"text-base font-semibold text-gray-900",children:a.nome})]}),e.jsx("div",{className:"mb-2"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs leading-tight",children:[e.jsx("div",{children:e.jsx("span",{className:"text-green-600",children:"Oportunidade:"})}),e.jsx("div",{className:"text-right",children:e.jsx("p",{className:"font-semibold text-green-700",children:a.oportunidade})}),e.jsxs("div",{children:[e.jsx("span",{className:"text-blue-600",children:"Cidades:"}),e.jsx("span",{className:"font-semibold text-blue-700 ml-1",children:a.cidades})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("span",{className:"text-purple-600",children:"Óticas:"}),e.jsx("span",{className:"font-semibold text-purple-700 ml-1",children:a.oticas})]}),e.jsx("div",{children:e.jsx("span",{className:"text-red-600",children:"Sem Vendas +90d:"})}),e.jsx("div",{className:"text-right",children:e.jsxs("span",{className:"font-semibold text-red-700",children:[a.semVendas90d," ",a.semVendas90d===1?"ótica":"óticas"]})})]})]})})},a.id))})]})]})},xs=()=>{const t=$(),{user:s,logout:o}=C();M();const[l,r]=m.useState(""),i=a=>a.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^\w\s]/gi,"").toLowerCase().trim(),u=[{id:1,nome:"Fortaleza",somaOportunidade:"R$ 7.300,00",saldoMetas:"R$ 13.500,00",nLojas:12,semVendas90d:2,indicadores:{at:2,inad:1,in:1}},{id:2,nome:"Caucaia",somaOportunidade:"R$ 5.200,00",saldoMetas:"R$ 8.000,00",nLojas:8,semVendas90d:1,indicadores:{at:1,inad:2,in:0}},{id:3,nome:"Maracanaú",somaOportunidade:"R$ 4.100,00",saldoMetas:"R$ 6.000,00",nLojas:6,semVendas90d:0,indicadores:{at:3,inad:1,in:0}},{id:4,nome:"Eusébio",somaOportunidade:"R$ 3.200,00",saldoMetas:"R$ 4.500,00",nLojas:4,semVendas90d:1,indicadores:{at:2,inad:0,in:1}}].filter(a=>{const p=i(l);return i(a.nome).includes(p)});return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("header",{className:"bg-primary text-white shadow-lg",children:e.jsx("div",{className:"max-w-7xl mx-auto px-3 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex items-center justify-between h-14 relative",children:[e.jsx("div",{className:"flex items-center",children:e.jsx("button",{onClick:()=>t("/rotas"),className:"p-1.5 hover:bg-white/10 rounded-full transition-colors mr-2",children:e.jsx(P,{className:"h-4 w-4"})})}),e.jsx("div",{className:"flex items-center absolute left-1/2 transform -translate-x-1/2",children:e.jsx("h1",{className:"text-lg font-bold",children:"Copiloto"})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("div",{className:"flex items-center space-x-1.5",children:[e.jsx(L,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm",children:s?.apelido||s?.nome||s?.email||"Usuário"})]}),e.jsx("button",{onClick:()=>{o(),t("/")},className:"p-1.5 hover:bg-white/10 rounded-full transition-colors",children:e.jsx(_,{className:"h-4 w-4"})})]})]})})}),e.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"relative max-w-md",children:[e.jsx(V,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Buscar cidades...",value:l,onChange:a=>r(a.target.value),className:"w-full pl-10 pr-4 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]})}),e.jsx("div",{className:"space-y-3",children:u.map(a=>e.jsx("div",{className:"bg-white rounded-lg shadow-md border border-gray-200 p-4 hover:shadow-lg hover:border-gray-300 transition-all cursor-pointer",onClick:()=>t("/clientes"),children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1.5",children:[e.jsx(ee,{className:"h-4 w-4 text-primary"}),e.jsx("h3",{className:"text-base font-semibold text-gray-900",children:a.nome}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(G,{className:"h-4 w-4 text-gray-500"}),e.jsxs("span",{className:"text-xs text-gray-600",children:[a.nLojas," óticas"]})]})]}),e.jsx("div",{className:"mb-2"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs leading-tight mb-2",children:[e.jsx("span",{className:"text-green-600",children:"Soma Oportunidade:"}),e.jsx("p",{className:"font-semibold text-green-700 text-right",children:a.somaOportunidade}),e.jsx("span",{className:"text-blue-600",children:"Saldo de Metas:"}),e.jsx("p",{className:"font-semibold text-blue-700 text-right",children:a.saldoMetas}),e.jsx("span",{className:"text-red-600",children:"Sem Vendas +90d:"}),e.jsxs("p",{className:"font-semibold text-red-700 text-right",children:[a.semVendas90d," ",a.semVendas90d===1?"ótica":"óticas"]}),e.jsx("span",{className:"text-purple-600",children:"N Lojas:"}),e.jsxs("div",{className:"flex items-center justify-end space-x-2 text-xs",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),e.jsxs("span",{className:"text-gray-600",children:[a.indicadores.at," AT"]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("span",{className:"w-2 h-2 bg-red-500 rounded-full"}),e.jsxs("span",{className:"text-gray-600",children:[a.indicadores.inad," PEN"]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("span",{className:"w-2 h-2 bg-yellow-500 rounded-full"}),e.jsxs("span",{className:"text-gray-600",children:[a.indicadores.in," INA"]})]})]})]})]})})},a.id))})]})]})},hs=()=>{const t=$(),{user:s,logout:o}=C();M();const{id:l}=ne();console.log("Cliente ID:",l);const r={nome:"Ótica Silvano",endereco:"S LIMA DA SILVA / 123456",status:"Liberado",statusInativo:"Inativo",dsv:120,dados2025:{valor:"R$ 5.550,20",qnt:"Qnt: 2"},dados2024:{valor:"R$ 12.000,00",qnt:"Qnt: 5"},oportunidade:"R$ 7.000,00",meta:"R$ 13.500,00",atingimento:"Ating: 39%",mixProdutos:[{produto:"RX FEM",ob:"35%",pw:"10%"},{produto:"RX MAS",ob:"12%",pw:"10%"},{produto:"SOL FEM",ob:"23%",pw:"-"},{produto:"SOL MAS",ob:"10%",pw:"-"},{produto:"TOTAL",ob:"80%",pw:"20%"}]};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("header",{className:"bg-primary text-white shadow-lg",children:e.jsx("div",{className:"max-w-7xl mx-auto px-3 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex items-center justify-between h-14 relative",children:[e.jsx("div",{className:"flex items-center",children:e.jsx("button",{onClick:()=>t("/clientes"),className:"p-1.5 hover:bg-white/10 rounded-full transition-colors mr-2",children:e.jsx(P,{className:"h-4 w-4"})})}),e.jsx("div",{className:"flex items-center absolute left-1/2 transform -translate-x-1/2",children:e.jsx("h1",{className:"text-lg font-bold",children:"Copiloto"})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("div",{className:"flex items-center space-x-1.5",children:[e.jsx(L,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm",children:s?.apelido||s?.nome||s?.email||"Usuário"})]}),e.jsx("button",{onClick:()=>{o(),t("/")},className:"p-1.5 hover:bg-white/10 rounded-full transition-colors",children:e.jsx(_,{className:"h-4 w-4"})})]})]})})}),e.jsx("main",{className:"max-w-4xl mx-auto px-3 sm:px-6 lg:px-8 py-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-md border border-gray-200 p-4",children:[e.jsxs("div",{className:"mb-4 pb-4 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("h2",{className:"text-base font-bold text-gray-900",children:r.nome}),e.jsx("span",{className:"bg-green-100 text-green-800 px-2 py-0.5 rounded-full text-xs font-medium",children:r.status}),e.jsx("span",{className:"bg-gray-100 text-gray-800 px-2 py-0.5 rounded-full text-xs",children:r.statusInativo})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("span",{className:"text-xs text-gray-600",children:"DSV:"}),e.jsxs("span",{className:"text-xs font-semibold text-red-600",children:[r.dsv,"d"]})]})]}),e.jsx("p",{className:"text-xs text-gray-600 mb-2 leading-tight",children:r.endereco})]}),e.jsx("div",{className:"mb-4 pb-4 border-b border-gray-200",children:e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs leading-tight",children:[e.jsxs("div",{className:"leading-tight",children:[e.jsx("span",{className:"text-gray-600",children:"2025: "}),e.jsx("span",{className:"font-semibold",children:r.dados2025.valor})]}),e.jsx("div",{className:"text-right leading-tight",children:e.jsx("span",{className:"text-gray-600",children:r.dados2025.qnt})}),e.jsxs("div",{className:"leading-tight",children:[e.jsx("span",{className:"text-gray-600",children:"2024: "}),e.jsx("span",{className:"font-semibold",children:r.dados2024.valor})]}),e.jsx("div",{className:"text-right leading-tight",children:e.jsx("span",{className:"text-gray-600",children:r.dados2024.qnt})}),e.jsxs("div",{className:"leading-tight",children:[e.jsx("span",{className:"text-green-600",children:"Oport: "}),e.jsx("span",{className:"font-semibold text-green-700",children:r.oportunidade})]}),e.jsx("div",{}),e.jsxs("div",{className:"leading-tight",children:[e.jsx("span",{className:"text-blue-600",children:"Meta: "}),e.jsx("span",{className:"font-semibold text-blue-700",children:r.meta})]}),e.jsx("div",{className:"text-right leading-tight",children:e.jsx("span",{className:"text-gray-600",children:r.atingimento})})]})}),e.jsxs("div",{className:"mb-4 pb-4",children:[e.jsx("h3",{className:"text-base font-semibold text-gray-900 mb-3",children:"Mix de Produtos"}),e.jsx("div",{className:"overflow-x-auto bg-white rounded-lg shadow-lg border-2 border-primary/60",children:e.jsxs("table",{className:"w-full text-xs",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-primary/25 border-b-2 border-primary/70",children:[e.jsx("th",{className:"text-left py-2 px-3 font-bold text-gray-900",children:"Produto"}),e.jsx("th",{className:"text-center py-2 px-3 font-bold text-gray-900",children:"OB"}),e.jsx("th",{className:"text-center py-2 px-3 font-bold text-gray-900",children:"PW"})]})}),e.jsx("tbody",{children:r.mixProdutos.map((i,c)=>e.jsxs("tr",{className:`
                      ${c===r.mixProdutos.length-1?"border-t-2 border-primary bg-primary/20 font-bold":c%2===0?"bg-gray-200":"bg-white"}
                      hover:bg-primary/25 transition-colors
                    `,children:[e.jsx("td",{className:"py-2 px-3 text-black font-semibold",children:i.produto}),e.jsx("td",{className:"text-center py-2 px-3 text-black font-bold",children:i.ob}),e.jsx("td",{className:"text-center py-2 px-3 text-black font-bold",children:i.pw})]},c))})]})})]}),e.jsx("div",{className:"pt-4 border-t border-gray-200",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("button",{className:"w-full bg-primary text-white py-2.5 rounded-lg font-medium hover:bg-primary/90 transition-colors flex items-center justify-center gap-2",children:[e.jsx(te,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm",children:"Ligar"})]}),e.jsxs("button",{className:"w-full bg-green-600 text-white py-2.5 rounded-lg font-medium hover:bg-green-700 transition-colors flex items-center justify-center gap-2",children:[e.jsx(se,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm",children:"WhatsApp"})]}),e.jsxs("button",{className:"w-full bg-gray-200 text-gray-700 py-2.5 rounded-lg font-medium hover:bg-gray-300 transition-colors flex items-center justify-center gap-2",children:[e.jsx(Ge,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm",children:"Gravar Áudio"})]})]})})]})})]})},us=()=>{const t=$(),{user:s,logout:o}=C();M();const[l,r]=m.useState(""),[i,c]=m.useState(!1),[u,a]=m.useState("nome"),p=d=>d.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^\w\s]/gi,"").toLowerCase().trim(),h=d=>{const f=new Date,k=new Date(d.split("/").reverse().join("-")),w=f.getTime()-k.getTime();return Math.floor(w/(1e3*60*60*24))},N=d=>d>30?{status:"Crítico",statusColor:"bg-red-100 text-red-800"}:d>15?{status:"Alto",statusColor:"bg-orange-100 text-orange-800"}:d>7?{status:"Médio",statusColor:"bg-yellow-100 text-yellow-800"}:{status:"Baixo",statusColor:"bg-blue-100 text-blue-800"},x=[{id:1,nome:"Ótica Vision Plus",codigo:"100789",rota:"Centro",valorTotal:"R$ 25.430,00",ultimoPagamento:"15/11/2024",telefone:"(85) 99999-1234",titulosAbertos:[{vencimento:"15/11/2024",valor:"R$ 12.500,00"},{vencimento:"30/11/2024",valor:"R$ 8.200,00"},{vencimento:"15/12/2024",valor:"R$ 4.730,00"}]},{id:2,nome:"Ótica São Paulo",codigo:"100567",rota:"Norte",valorTotal:"R$ 18.750,00",ultimoPagamento:"30/11/2024",telefone:"(85) 98888-5678",titulosAbertos:[{vencimento:"30/11/2024",valor:"R$ 10.000,00"},{vencimento:"15/12/2024",valor:"R$ 8.750,00"}]},{id:3,nome:"Ótica Moderna",codigo:"100234",rota:"Sul",valorTotal:"R$ 12.300,00",ultimoPagamento:"15/12/2024",telefone:"(85) 97777-9101",titulosAbertos:[{vencimento:"15/12/2024",valor:"R$ 7.800,00"},{vencimento:"30/12/2024",valor:"R$ 4.500,00"}]},{id:4,nome:"Ótica Elite",codigo:"100345",rota:"Leste",valorTotal:"R$ 8.920,00",ultimoPagamento:"22/12/2024",telefone:"(85) 96666-1122",titulosAbertos:[{vencimento:"22/12/2024",valor:"R$ 8.920,00"}]}].map(d=>{const f=d.titulosAbertos.map(re=>h(re.vencimento)),k=Math.max(...f),{status:w,statusColor:T}=N(k);return{...d,diasAtraso:k,status:w,statusColor:T}}).filter(d=>{const f=p(l);return p(d.nome).includes(f)||p(d.codigo).includes(f)||p(d.rota).includes(f)}).sort((d,f)=>{switch(u){case"rota":return d.rota.localeCompare(f.rota);case"valor-maior":return parseFloat(f.valorTotal.replace("R$ ","").replace(".","").replace(",","."))-parseFloat(d.valorTotal.replace("R$ ","").replace(".","").replace(",","."));case"valor-menor":return parseFloat(d.valorTotal.replace("R$ ","").replace(".","").replace(",","."))-parseFloat(f.valorTotal.replace("R$ ","").replace(".","").replace(",","."));case"az":return d.nome.localeCompare(f.nome);case"za":return f.nome.localeCompare(d.nome);default:return d.nome.localeCompare(f.nome)}}),g=x.length,y=x.reduce((d,f)=>d+parseFloat(f.valorTotal.replace("R$ ","").replace(".","").replace(",",".")),0),R=x.filter(d=>d.diasAtraso>30).length;return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("header",{className:"bg-primary text-white shadow-lg",children:e.jsx("div",{className:"max-w-7xl mx-auto px-3 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex items-center justify-between h-14 relative",children:[e.jsx("div",{className:"flex items-center",children:e.jsx("button",{onClick:()=>t("/dashboard"),className:"p-1.5 hover:bg-white/10 rounded-full transition-colors mr-2",children:e.jsx(P,{className:"h-4 w-4"})})}),e.jsx("div",{className:"flex items-center absolute left-1/2 transform -translate-x-1/2",children:e.jsx("h1",{className:"text-lg font-bold",children:"Copiloto"})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("div",{className:"flex items-center space-x-1.5",children:[e.jsx(L,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm",children:s?.apelido||s?.nome||s?.email||"Usuário"})]}),e.jsx("button",{onClick:()=>{o(),t("/")},className:"p-1.5 hover:bg-white/10 rounded-full transition-colors",children:e.jsx(_,{className:"h-4 w-4"})})]})]})})}),e.jsxs("main",{className:"max-w-7xl mx-auto px-3 sm:px-6 lg:px-8 py-4",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(z,{className:"h-5 w-5 text-red-600 mr-2"}),e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Clientes Inadimplentes"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-3 sm:gap-4 mb-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-md border border-gray-200 p-3 sm:p-4",children:[e.jsx("p",{className:"text-[10px] sm:text-xs text-gray-600 mb-1",children:"Total Inadimplentes"}),e.jsx("p",{className:"text-sm sm:text-lg font-bold text-red-600",children:g})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md border border-gray-200 p-3 sm:p-4",children:[e.jsx("p",{className:"text-[10px] sm:text-xs text-gray-600 mb-1",children:"Valor Total"}),e.jsxs("p",{className:"text-sm sm:text-lg font-bold text-red-600",children:["R$ ",y.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md border border-gray-200 p-3 sm:p-4",children:[e.jsx("p",{className:"text-[10px] sm:text-xs text-gray-600 mb-1",children:"Críticos (>30d)"}),e.jsx("p",{className:"text-sm sm:text-lg font-bold text-red-600",children:R})]})]}),e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(V,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Buscar inadimplentes...",value:l,onChange:d=>r(d.target.value),className:"w-full pl-9 pr-4 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]}),e.jsxs("div",{className:"relative flex-shrink-0",children:[e.jsx("button",{className:"p-2 border border-gray-300 rounded-lg hover:bg-gray-50",onClick:()=>c(!i),children:e.jsx(Y,{className:"h-4 w-4 text-gray-600"})}),i&&e.jsxs("div",{className:"absolute right-0 top-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg z-10 min-w-32",children:[e.jsx("button",{className:"w-full px-3 py-2 text-xs text-left hover:bg-gray-50 border-b border-gray-200",onClick:()=>{a("rota"),c(!1)},children:"Rota"}),e.jsx("button",{className:"w-full px-3 py-2 text-xs text-left hover:bg-gray-50 border-b border-gray-200",onClick:()=>{a("valor-maior"),c(!1)},children:"Maior Valor"}),e.jsx("button",{className:"w-full px-3 py-2 text-xs text-left hover:bg-gray-50 border-b border-gray-200",onClick:()=>{a("valor-menor"),c(!1)},children:"Menor Valor"}),e.jsx("button",{className:"w-full px-3 py-2 text-xs text-left hover:bg-gray-50 border-b border-gray-200",onClick:()=>{a("az"),c(!1)},children:"A-Z"}),e.jsx("button",{className:"w-full px-3 py-2 text-xs text-left hover:bg-gray-50",onClick:()=>{a("za"),c(!1)},children:"Z-A"})]})]})]}),e.jsx("div",{className:"space-y-3",children:x.map(d=>e.jsx("div",{className:"bg-white rounded-lg shadow-md border border-gray-200 p-4 hover:shadow-lg hover:border-gray-300 transition-all",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1.5",children:[e.jsx(z,{className:"h-4 w-4 text-red-500"}),e.jsx("h3",{className:"text-base font-semibold text-gray-900",children:d.nome}),e.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${d.statusColor}`,children:d.status})]}),e.jsxs("p",{className:"text-xs text-gray-600 mb-2 leading-tight",children:["Código: ",d.codigo]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs leading-tight mb-3",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-red-600",children:"Valor Total:"}),e.jsx("span",{className:"ml-1 font-semibold text-red-700",children:d.valorTotal})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("span",{className:"text-gray-600",children:"Rota:"}),e.jsx("span",{className:"ml-1 font-semibold text-gray-800",children:d.rota})]})]}),e.jsxs("div",{className:"border-t border-gray-100 pt-2 mb-3",children:[e.jsx("p",{className:"text-xs font-medium text-gray-700 mb-2",children:"Títulos Atrasados:"}),e.jsx("div",{className:"space-y-1",children:d.titulosAbertos.map((f,k)=>{const w=h(f.vencimento);return e.jsxs("div",{className:"grid grid-cols-3 gap-2 text-xs items-center",children:[e.jsx("span",{className:"text-gray-600",children:f.vencimento}),e.jsxs("span",{className:"text-center text-red-600 font-medium",children:[w,"d"]}),e.jsx("span",{className:"font-semibold text-red-600 text-right",children:f.valor})]},k)})})]}),e.jsx("div",{className:"border-t border-gray-100 pt-3",children:e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("button",{onClick:()=>window.open(`tel:${d.telefone}`,"_self"),className:"w-full bg-primary text-white py-2 sm:py-2.5 rounded-lg font-medium hover:bg-primary/90 transition-colors flex items-center justify-center gap-2",children:[e.jsx(te,{className:"h-4 w-4"}),e.jsx("span",{className:"text-xs sm:text-sm",children:"Ligar"})]}),e.jsxs("button",{onClick:()=>window.open(`https://wa.me/${d.telefone.replace(/\D/g,"")}`,"_blank"),className:"w-full bg-green-600 text-white py-2 sm:py-2.5 rounded-lg font-medium hover:bg-green-700 transition-colors flex items-center justify-center gap-2",children:[e.jsx(se,{className:"h-4 w-4"}),e.jsx("span",{className:"text-xs sm:text-sm",children:"WhatsApp"})]})]})})]})},d.id))})]})]})},S=({children:t})=>{const{user:s,loading:o}=C();return o?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Carregando..."})]})}):s?e.jsx(e.Fragment,{children:t}):e.jsx(ie,{to:"/",replace:!0})},ps=ce([{path:"/",element:e.jsx(is,{})},{path:"/dashboard",element:e.jsx(S,{children:e.jsx(E,{children:e.jsx(cs,{})})})},{path:"/clientes",element:e.jsx(S,{children:e.jsx(E,{children:e.jsx(ds,{})})})},{path:"/rotas",element:e.jsx(S,{children:e.jsx(E,{children:e.jsx(ms,{})})})},{path:"/cidades",element:e.jsx(S,{children:e.jsx(E,{children:e.jsx(xs,{})})})},{path:"/cliente/:id",element:e.jsx(S,{children:e.jsx(E,{children:e.jsx(hs,{})})})},{path:"/inadimplentes",element:e.jsx(S,{children:e.jsx(E,{children:e.jsx(us,{})})})}]);function gs(){return e.jsx($e,{children:e.jsx(de,{router:ps})})}fe.createRoot(document.getElementById("root")).render(e.jsx(me.StrictMode,{children:e.jsx(gs,{})}));
