import{r as K,b as ee,a as se,c as d,u as b,d as te,N as re,e as ae,R as le,f as ne}from"./vendor-sGmgHiac.js";import{c as oe}from"./supabase-CT8fK44Y.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const a of c.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function s(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function i(l){if(l.ep)return;l.ep=!0;const c=s(l);fetch(l.href,c)}})();var P={exports:{}},M={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D;function ie(){if(D)return M;D=1;var r=K(),t=Symbol.for("react.element"),s=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,l=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function a(x,m,N){var u,n={},h=null,g=null;N!==void 0&&(h=""+N),m.key!==void 0&&(h=""+m.key),m.ref!==void 0&&(g=m.ref);for(u in m)i.call(m,u)&&!c.hasOwnProperty(u)&&(n[u]=m[u]);if(x&&x.defaultProps)for(u in m=x.defaultProps,m)n[u]===void 0&&(n[u]=m[u]);return{$$typeof:t,type:x,key:h,ref:g,props:n,_owner:l.current}}return M.Fragment=s,M.jsx=a,M.jsxs=a,M}var z;function ce(){return z||(z=1,P.exports=ie()),P.exports}var e=ce(),L={},B;function de(){if(B)return L;B=1;var r=ee();return L.createRoot=r.createRoot,L.hydrateRoot=r.hydrateRoot,L}var me=de();const xe=se(me),q="https://krisjvemfpnkmduebqdr.supabase.co",he="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtyaXNqdmVtZnBua21kdWVicWRyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDc4NTQ5MTMsImV4cCI6MjA2MzQzMDkxM30.jktcXSfSQfcfXUPTDuvu75GuUscMhpsYnvhfloRUf4I",w=oe(q,he);async function ue(){try{console.log("🔗 Testando conexão com Supabase..."),console.log("📍 URL:",q);const{error:r}=await w.from("vendedores").select("count").limit(1);return r?(console.error("❌ Erro ao conectar:",r),!1):(console.log("✅ Conexão bem-sucedida!"),!0)}catch(r){return console.error("💥 Erro crítico:",r),!1}}async function pe(r,t){try{console.log("🔐 Tentando login com:",{login:r,senha:t.substring(0,3)+"***"});const{data:s,error:i}=await w.from("vendedores").select("login, senha, cod_vendedor").eq("login",r).eq("senha",t).single();return console.log("📊 Resposta do Supabase:",{data:s,error:i}),i?(console.error("❌ Erro do Supabase:",i),{user:null,error:i.message||"Credenciais inválidas"}):s?(console.log("✅ Login bem-sucedido:",s.login),{user:s,error:null}):(console.log("⚠️ Nenhum usuário encontrado"),{user:null,error:"Usuário não encontrado"})}catch(s){return console.error("💥 Erro de conexão:",s),{user:null,error:"Erro na conexão"}}}async function ge(r){try{const{data:t,error:s}=await w.from("clientes").select("*").eq("cod_vendedor",r);return s?(console.error("Erro ao buscar clientes:",s),{data:[],error:s.message}):{data:t,error:null}}catch(t){return console.error("Erro na conexão ao buscar clientes:",t),{data:[],error:"Erro na conexão"}}}async function je(r){try{const{data:t,error:s}=await w.from("rotas").select("*").eq("cod_vendedor",r);return s?(console.error("Erro ao buscar rotas:",s),{data:[],error:s.message}):{data:t,error:null}}catch(t){return console.error("Erro na conexão ao buscar rotas:",t),{data:[],error:"Erro na conexão"}}}async function fe(r){try{const{data:t,error:s}=await w.from("cidades").select("*").eq("cod_vendedor",r);return s?(console.error("Erro ao buscar cidades:",s),{data:[],error:s.message}):{data:t,error:null}}catch(t){return console.error("Erro na conexão ao buscar cidades:",t),{data:[],error:"Erro na conexão"}}}async function Ne(r){try{const{data:t,error:s}=await w.from("vendas").select("*").eq("cod_vendedor",r);return s?(console.error("Erro ao buscar vendas:",s),{data:[],error:s.message}):{data:t,error:null}}catch(t){return console.error("Erro na conexão ao buscar vendas:",t),{data:[],error:"Erro na conexão"}}}async function ve(r){try{const{data:t,error:s}=await w.from("vendedores").select("*").eq("cod_vendedor",r).single();return s?(console.error("Erro ao buscar dados do vendedor:",s),{data:null,error:s.message}):{data:t,error:null}}catch(t){return console.error("Erro na conexão ao buscar dados do vendedor:",t),{data:null,error:"Erro na conexão"}}}const V=d.createContext(void 0),T=()=>{const r=d.useContext(V);if(r===void 0)throw new Error("useAuth must be used within an AuthProvider");return r},ye=({children:r})=>{const[t,s]=d.useState(null),[i,l]=d.useState(!0);d.useEffect(()=>{const m=localStorage.getItem("user");m&&s(JSON.parse(m)),l(!1)},[]);const x={user:t,loading:i,login:async(m,N)=>{l(!0);try{const{user:u,error:n}=await pe(m,N);return n||!u?(l(!1),{success:!1,error:n||"Erro desconhecido"}):(s(u),localStorage.setItem("user",JSON.stringify(u)),l(!1),{success:!0})}catch{return l(!1),{success:!1,error:"Erro na conexão"}}},logout:()=>{t?.cod_vendedor&&localStorage.removeItem(`vendedor_${t.cod_vendedor}`),s(null),localStorage.removeItem("user")}};return e.jsx(V.Provider,{value:x,children:r})},U=d.createContext(void 0),be=()=>{const r=d.useContext(U);if(r===void 0)throw new Error("useVendedorData must be used within a VendedorDataProvider");return r},C=({children:r})=>{const{user:t}=T(),[s,i]=d.useState({vendedor:null,clientes:[],rotas:[],cidades:[],vendas:[]}),[l,c]=d.useState(!1),a=async n=>{c(!0);const h={vendedor:null,clientes:[],rotas:[],cidades:[],vendas:[]};try{const{data:v}=await ve(n);h.vendedor=v}catch(v){console.log("Erro ao carregar dados do vendedor:",v)}const g=[{key:"clientes",fn:ge},{key:"rotas",fn:je},{key:"cidades",fn:fe},{key:"vendas",fn:Ne}];for(const{key:v,fn:f}of g)try{const{data:o}=await f(n);h[v]=o||[]}catch{h[v]=[]}localStorage.setItem(`vendedor_${n}`,JSON.stringify({...h,loadedAt:new Date().toISOString()})),i(h),c(!1)};d.useEffect(()=>{if(t?.cod_vendedor){const n=localStorage.getItem(`vendedor_${t.cod_vendedor}`);if(n){const h=JSON.parse(n);i(h)}else a(t.cod_vendedor)}},[t?.cod_vendedor]);const x=n=>Array.isArray(s[n])?s[n].length>0:s[n]!==null,m=()=>{t?.cod_vendedor&&a(t.cod_vendedor)},N=()=>{t?.cod_vendedor&&localStorage.removeItem(`vendedor_${t.cod_vendedor}`),i({vendedor:null,clientes:[],rotas:[],cidades:[],vendas:[]})},u={vendedor:s.vendedor,clientes:s.clientes,rotas:s.rotas,cidades:s.cidades,vendas:s.vendas,loading:l,hasData:x,refresh:m,clear:N};return e.jsx(U.Provider,{value:u,children:r})};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ce=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,s,i)=>i?i.toUpperCase():s.toLowerCase()),F=r=>{const t=Ce(r);return t.charAt(0).toUpperCase()+t.slice(1)},J=(...r)=>r.filter((t,s,i)=>!!t&&t.trim()!==""&&i.indexOf(t)===s).join(" ").trim(),ke=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Re={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=d.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:s=2,absoluteStrokeWidth:i,className:l="",children:c,iconNode:a,...x},m)=>d.createElement("svg",{ref:m,...Re,width:t,height:t,stroke:r,strokeWidth:i?Number(s)*24/Number(t):s,className:J("lucide",l),...!c&&!ke(x)&&{"aria-hidden":"true"},...x},[...a.map(([N,u])=>d.createElement(N,u)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j=(r,t)=>{const s=d.forwardRef(({className:i,...l},c)=>d.createElement(Se,{ref:c,iconNode:t,className:J(`lucide-${we(F(r))}`,`lucide-${r}`,i),...l}));return s.displayName=F(r),s};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],_=j("arrow-left",$e);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],W=j("building",Me);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _e=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],A=j("chevron-down",_e);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Le=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],E=j("chevron-up",Le);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Ee=j("circle-alert",Ae);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Ie=j("eye-off",Te);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pe=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Oe=j("eye",Pe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],X=j("funnel",De);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],Be=j("log-in",ze);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],R=j("log-out",Fe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Z=j("map-pin",qe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],Ue=j("map",Ve);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],Q=j("message-circle",Je);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const We=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],Xe=j("mic",We);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],H=j("phone",Ze);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],I=j("search",Qe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Ge=j("target",He);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Ke=j("trending-up",Ye);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const es=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],O=j("triangle-alert",es);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ss=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],S=j("user",ss),ts="/assets/Logo%20Focco%20Brasil-DXXX8y_m.png",rs=()=>{const[r,t]=d.useState(""),[s,i]=d.useState(""),[l,c]=d.useState(!1),[a,x]=d.useState(""),[m,N]=d.useState(!1),u=b(),{login:n,user:h}=T();d.useEffect(()=>{h&&u("/dashboard")},[h,u]),d.useEffect(()=>{ue()},[]);const g=async v=>{v.preventDefault(),x(""),N(!0),console.log("🔑 Iniciando processo de login..."),console.log("👤 Login:",r),console.log("🔒 Senha tem",s.length,"caracteres");try{const f=await n(r,s);console.log("📋 Resultado do login:",f),f.success?(console.log("✅ Login bem-sucedido, redirecionando..."),u("/dashboard")):(console.error("❌ Falha no login:",f.error),x(f.error||"Erro desconhecido"))}catch(f){console.error("💥 Erro crítico:",f),x("Erro na conexão com o servidor")}finally{N(!1)}};return e.jsx("div",{className:"min-h-screen gradient-bg flex items-center justify-center px-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8 w-full max-w-md",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("img",{src:ts,alt:"Focco Brasil",className:"w-15 h-10 mb-4 mx-auto"}),e.jsx("h1",{className:"text-2xl font-semibold text-primary mb-2",children:"Bem-vindo"}),e.jsx("p",{className:"text-gray-600",children:"Acesse sua plataforma de vendas"})]}),e.jsxs("form",{onSubmit:g,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Login"}),e.jsx("input",{type:"text",value:r,onChange:v=>t(v.target.value),placeholder:"Seu login",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",required:!0,disabled:m})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Senha"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:l?"text":"password",value:s,onChange:v=>i(v.target.value),placeholder:"••••••••",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent pr-12",required:!0,disabled:m}),e.jsx("button",{type:"button",onClick:()=>c(!l),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",children:l?e.jsx(Ie,{size:20}):e.jsx(Oe,{size:20})})]})]}),a&&e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-center gap-2",children:[e.jsx(Ee,{className:"h-5 w-5 text-red-600"}),e.jsx("span",{className:"text-red-700 text-sm",children:a})]}),e.jsx("button",{type:"submit",disabled:m,className:"w-full bg-primary text-white py-3 rounded-lg font-medium hover:bg-primary/90 transition-colors flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:m?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),"Entrando..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Be,{size:20}),"Entrar no Sistema"]})})]}),e.jsx("div",{className:"text-center mt-8 text-sm text-gray-500",children:e.jsx("p",{children:"Plataforma de Gestão Comercial"})})]})})},as=()=>{const r=b(),{user:t,logout:s}=T(),{vendedor:i}=be(),[l,c]=d.useState(null),[a,x]=d.useState(null),m=[{nome:"Ótica Visão Perfeita",rota:"Centro",meta:2e5,vendido:18e4,percentual:90},{nome:"Ótica Foco",rota:"Norte",meta:17e4,vendido:15e4,percentual:88},{nome:"Ótica Olhar Certo",rota:"Sul",meta:15e4,vendido:13e4,percentual:87},{nome:"Ótica Visão Global",rota:"Leste",meta:14e4,vendido:12e4,percentual:86},{nome:"Ótica Visão & Cia",rota:"Centro",meta:13e4,vendido:11e4,percentual:85},{nome:"Ótica Moderna",rota:"Norte",meta:12e4,vendido:105e3,percentual:88},{nome:"Ótica Prime",rota:"Sul",meta:11e4,vendido:95e3,percentual:86},{nome:"Ótica Central",rota:"Leste",meta:1e5,vendido:85e3,percentual:85},{nome:"Ótica Ideal",rota:"Centro",meta:95e3,vendido:8e4,percentual:84},{nome:"Ótica Plus",rota:"Norte",meta:9e4,vendido:75e3,percentual:83},{nome:"Ótica Master",rota:"Sul",meta:85e3,vendido:7e4,percentual:82},{nome:"Ótica Elite",rota:"Leste",meta:8e4,vendido:65e3,percentual:81},{nome:"Ótica Top",rota:"Centro",meta:75e3,vendido:6e4,percentual:80},{nome:"Ótica Nova",rota:"Norte",meta:7e4,vendido:55e3,percentual:79},{nome:"Ótica Class",rota:"Sul",meta:65e3,vendido:5e4,percentual:77},{nome:"Ótica Style",rota:"Leste",meta:6e4,vendido:45e3,percentual:75},{nome:"Ótica Trend",rota:"Centro",meta:55e3,vendido:4e4,percentual:73},{nome:"Ótica Flash",rota:"Norte",meta:5e4,vendido:35e3,percentual:70},{nome:"Ótica Smart",rota:"Sul",meta:45e3,vendido:3e4,percentual:67},{nome:"Ótica Pro",rota:"Leste",meta:4e4,vendido:25e3,percentual:63}],N=d.useMemo(()=>{let g=[...m];return l?g.sort((f,o)=>l==="asc"?f.rota.localeCompare(o.rota):o.rota.localeCompare(f.rota)):a&&g.sort((f,o)=>a==="asc"?f.percentual-o.percentual:o.percentual-f.percentual),g.map(f=>{const o=m.sort((p,y)=>y.percentual-p.percentual).findIndex(p=>p.nome===f.nome)+1;return{...f,posicao:o}})},[l,a]),u=()=>{x(null),c(l===null?"asc":l==="asc"?"desc":null)},n=()=>{c(null),x(a===null?"desc":a==="desc"?"asc":null)},h=()=>{s(),r("/")};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("header",{className:"bg-primary text-white shadow-lg",children:e.jsx("div",{className:"max-w-7xl mx-auto px-3 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex items-center justify-between h-14 relative",children:[e.jsx("div",{className:"flex items-center"}),e.jsx("div",{className:"flex items-center absolute left-1/2 transform -translate-x-1/2",children:e.jsx("h1",{className:"text-lg font-bold",children:"Copiloto"})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("div",{className:"flex items-center space-x-1.5",children:[e.jsx(S,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm",children:i?.apelido||t?.cod_vendedor||t?.login||"Usuário"})]}),e.jsx("button",{onClick:h,className:"p-1.5 hover:bg-white/10 rounded-full transition-colors",children:e.jsx(R,{className:"h-4 w-4"})})]})]})})}),e.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Dashboard Pessoal"}),e.jsxs("p",{className:"text-gray-600",children:["Bem-vindo, ",i?.apelido||t?.cod_vendedor||"Usuário","! Aqui estão suas métricas"]})]}),e.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[e.jsx("button",{onClick:()=>r("/inadimplentes"),className:"bg-red-600 text-white p-2 sm:px-4 sm:py-2 rounded-lg font-medium hover:bg-red-700 transition-colors flex items-center justify-center",children:e.jsx(O,{className:"h-4 w-4 sm:h-5 sm:w-5"})}),e.jsx("button",{onClick:()=>r("/rotas"),className:"bg-primary text-white p-2 sm:px-4 sm:py-2 rounded-lg font-medium hover:bg-primary/90 transition-colors flex items-center justify-center",children:e.jsx(Ue,{className:"h-4 w-4 sm:h-5 sm:w-5"})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-md border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Vendas do Mês"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:"R$ 125.000,00"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Ano anterior: R$ 100.000,00"})]}),e.jsx("div",{className:"bg-blue-50 p-3 rounded-full",children:e.jsx(Ke,{className:"h-6 w-6 text-blue-600"})})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-md border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Óticas Positivadas"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:"15"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Ano anterior: 12"})]}),e.jsx("div",{className:"bg-green-50 p-3 rounded-full",children:e.jsx(W,{className:"h-6 w-6 text-green-600"})})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-md border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Meta"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:"83%"})]}),e.jsx("div",{className:"bg-yellow-50 p-3 rounded-full",children:e.jsx(Ge,{className:"h-6 w-6 text-yellow-600"})})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md border border-gray-200 p-6 mb-6",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-map-pin h-5 w-5 text-primary mr-2","aria-hidden":"true",children:[e.jsx("path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0"}),e.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Top 10 Cidades"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-xs font-medium text-gray-500 w-6",children:"#1"}),e.jsx("span",{className:"text-xs font-medium text-gray-900",children:"Fortaleza"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"bg-primary h-1.5 rounded-full mr-2",style:{width:"56px"}}),e.jsx("span",{className:"text-xs font-medium text-gray-900",children:"R$ 450.000,00"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-xs font-medium text-gray-500 w-6",children:"#2"}),e.jsx("span",{className:"text-xs font-medium text-gray-900",children:"Caucaia"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"bg-primary h-1.5 rounded-full mr-2",style:{width:"52px"}}),e.jsx("span",{className:"text-xs font-medium text-gray-900",children:"R$ 280.000,00"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-xs font-medium text-gray-500 w-6",children:"#3"}),e.jsx("span",{className:"text-xs font-medium text-gray-900",children:"Maracanaú"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"bg-primary h-1.5 rounded-full mr-2",style:{width:"48px"}}),e.jsx("span",{className:"text-xs font-medium text-gray-900",children:"R$ 250.000,00"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-xs font-medium text-gray-500 w-6",children:"#4"}),e.jsx("span",{className:"text-xs font-medium text-gray-900",children:"Sobral"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"bg-primary h-1.5 rounded-full mr-2",style:{width:"44px"}}),e.jsx("span",{className:"text-xs font-medium text-gray-900",children:"R$ 220.000,00"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-xs font-medium text-gray-500 w-6",children:"#5"}),e.jsx("span",{className:"text-xs font-medium text-gray-900",children:"Juazeiro do Norte"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"bg-primary h-1.5 rounded-full mr-2",style:{width:"40px"}}),e.jsx("span",{className:"text-xs font-medium text-gray-900",children:"R$ 200.000,00"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-xs font-medium text-gray-500 w-6",children:"#6"}),e.jsx("span",{className:"text-xs font-medium text-gray-900",children:"Crato"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"bg-primary h-1.5 rounded-full mr-2",style:{width:"36px"}}),e.jsx("span",{className:"text-xs font-medium text-gray-900",children:"R$ 180.000,00"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-xs font-medium text-gray-500 w-6",children:"#7"}),e.jsx("span",{className:"text-xs font-medium text-gray-900",children:"Iguatu"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"bg-primary h-1.5 rounded-full mr-2",style:{width:"32px"}}),e.jsx("span",{className:"text-xs font-medium text-gray-900",children:"R$ 160.000,00"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-xs font-medium text-gray-500 w-6",children:"#8"}),e.jsx("span",{className:"text-xs font-medium text-gray-900",children:"Quixadá"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"bg-primary h-1.5 rounded-full mr-2",style:{width:"28px"}}),e.jsx("span",{className:"text-xs font-medium text-gray-900",children:"R$ 140.000,00"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-xs font-medium text-gray-500 w-6",children:"#9"}),e.jsx("span",{className:"text-xs font-medium text-gray-900",children:"Canindé"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"bg-primary h-1.5 rounded-full mr-2",style:{width:"24px"}}),e.jsx("span",{className:"text-xs font-medium text-gray-900",children:"R$ 120.000,00"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-xs font-medium text-gray-500 w-6",children:"#10"}),e.jsx("span",{className:"text-xs font-medium text-gray-900",children:"Ceará-Mirim"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"bg-primary h-1.5 rounded-full mr-2",style:{width:"20px"}}),e.jsx("span",{className:"text-xs font-medium text-gray-900",children:"R$ 100.000,00"})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md border border-gray-200 p-6 mb-6",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-building h-5 w-5 text-primary mr-2","aria-hidden":"true",children:[e.jsx("rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2"}),e.jsx("path",{d:"M9 22v-4h6v4"}),e.jsx("path",{d:"M8 6h.01"}),e.jsx("path",{d:"M16 6h.01"}),e.jsx("path",{d:"M12 6h.01"}),e.jsx("path",{d:"M12 10h.01"}),e.jsx("path",{d:"M12 14h.01"}),e.jsx("path",{d:"M16 10h.01"}),e.jsx("path",{d:"M16 14h.01"}),e.jsx("path",{d:"M8 10h.01"}),e.jsx("path",{d:"M8 14h.01"})]}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Top 20 Clientes"})]}),e.jsxs("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-2 text-xs font-semibold text-gray-600 border-b border-gray-200 pb-2 mb-2",children:[e.jsx("div",{className:"text-left",children:"Cliente"}),e.jsxs("div",{className:"text-center flex items-center justify-center",children:[e.jsx("span",{children:"Rota"}),e.jsx("button",{onClick:u,className:"ml-1 p-0.5 hover:bg-gray-100 rounded transition-colors",children:l==="asc"?e.jsx(E,{className:"h-3 w-3"}):l==="desc"?e.jsx(A,{className:"h-3 w-3"}):e.jsxs("div",{className:"flex flex-col",children:[e.jsx(E,{className:"h-2 w-2 -mb-0.5"}),e.jsx(A,{className:"h-2 w-2"})]})})]}),e.jsxs("div",{className:"text-center flex items-center justify-center",children:[e.jsx("span",{children:"Meta x Vendido"}),e.jsx("button",{onClick:n,className:"ml-1 p-0.5 hover:bg-gray-100 rounded transition-colors",children:a==="desc"?e.jsx(A,{className:"h-3 w-3"}):a==="asc"?e.jsx(E,{className:"h-3 w-3"}):e.jsxs("div",{className:"flex flex-col",children:[e.jsx(E,{className:"h-2 w-2 -mb-0.5"}),e.jsx(A,{className:"h-2 w-2"})]})})]})]}),N.map(g=>e.jsxs("div",{className:"grid grid-cols-3 gap-2 text-xs items-center py-1",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsxs("span",{className:"font-medium text-gray-500 w-6",children:["#",g.posicao]}),e.jsx("span",{className:"font-medium text-gray-900 truncate",children:g.nome})]}),e.jsx("div",{className:"text-center text-gray-600",children:g.rota}),e.jsx("div",{className:"relative",children:e.jsxs("div",{className:"w-full bg-gray-200 rounded h-6 sm:h-5 relative",children:[e.jsx("div",{className:"bg-primary h-6 sm:h-5 rounded transition-all duration-300",style:{width:`${g.percentual}%`}}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center px-2 sm:px-4",children:e.jsxs("span",{className:"text-[9px] sm:text-[10px] text-white font-medium tracking-tight",children:[e.jsxs("span",{className:"hidden xs:inline",children:[g.meta.toLocaleString("pt-BR")," | ",g.vendido.toLocaleString("pt-BR")," | "]}),g.percentual,"%"]})})]})})]},g.nome))]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-target h-5 w-5 text-primary mr-2","aria-hidden":"true",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("circle",{cx:"12",cy:"12",r:"6"}),e.jsx("circle",{cx:"12",cy:"12",r:"2"})]}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Ranking Rotas"})]}),e.jsx("div",{children:e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"flex justify-between mb-2 px-8 sm:px-12",children:[e.jsx("span",{className:"text-[8px] sm:text-[9px] text-gray-500",children:"0"}),e.jsx("span",{className:"text-[8px] sm:text-[9px] text-gray-500",children:"100k"}),e.jsx("span",{className:"text-[8px] sm:text-[9px] text-gray-500",children:"200k"}),e.jsx("span",{className:"text-[8px] sm:text-[9px] text-gray-500",children:"300k"}),e.jsx("span",{className:"text-[8px] sm:text-[9px] text-gray-500",children:"400k"}),e.jsx("span",{className:"text-[8px] sm:text-[9px] text-gray-500",children:"500k"})]}),e.jsxs("div",{className:"absolute top-5 left-8 sm:left-12 right-2 sm:right-4 h-24 sm:h-32 pointer-events-none",children:[e.jsx("div",{className:"absolute top-0 bottom-0 w-px bg-gray-200",style:{left:"0%"}}),e.jsx("div",{className:"absolute top-0 bottom-0 w-px bg-gray-200",style:{left:"20%"}}),e.jsx("div",{className:"absolute top-0 bottom-0 w-px bg-gray-200",style:{left:"40%"}}),e.jsx("div",{className:"absolute top-0 bottom-0 w-px bg-gray-200",style:{left:"60%"}}),e.jsx("div",{className:"absolute top-0 bottom-0 w-px bg-gray-200",style:{left:"80%"}}),e.jsx("div",{className:"absolute top-0 bottom-0 w-px bg-gray-200",style:{left:"100%"}})]}),e.jsxs("div",{className:"space-y-2 sm:space-y-3 pl-8 sm:pl-12 pr-2 sm:pr-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 sm:w-12 text-right pr-1 sm:pr-2",children:e.jsx("span",{className:"text-[8px] sm:text-[9px] text-gray-700 font-medium",children:"Centro"})}),e.jsx("div",{className:"flex-1 relative",children:e.jsxs("div",{className:"h-4 sm:h-5 bg-gray-200 rounded relative",style:{width:"100%"},children:[e.jsx("div",{className:"h-4 sm:h-5 bg-primary rounded transition-all duration-300 relative flex items-center justify-center",style:{width:"90%"},children:e.jsx("span",{className:"text-[7px] sm:text-[8px] text-white font-medium",children:"90%"})}),e.jsx("div",{className:"absolute right-0.5 sm:right-1 top-0 h-4 sm:h-5 flex items-center",children:e.jsx("span",{className:"text-[7px] sm:text-[8px] text-gray-600 font-medium",children:e.jsx("span",{className:"hidden sm:inline",children:"450k/500k"})})})]})})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 sm:w-12 text-right pr-1 sm:pr-2",children:e.jsx("span",{className:"text-[8px] sm:text-[9px] text-gray-700 font-medium",children:"Norte"})}),e.jsx("div",{className:"flex-1 relative",children:e.jsxs("div",{className:"h-4 sm:h-5 bg-gray-200 rounded relative",style:{width:"80%"},children:[e.jsx("div",{className:"h-4 sm:h-5 bg-primary rounded transition-all duration-300 relative flex items-center justify-center",style:{width:"80%"},children:e.jsx("span",{className:"text-[7px] sm:text-[8px] text-white font-medium",children:"80%"})}),e.jsx("div",{className:"absolute right-0.5 sm:right-1 top-0 h-4 sm:h-5 flex items-center",children:e.jsx("span",{className:"text-[7px] sm:text-[8px] text-gray-600 font-medium",children:e.jsx("span",{className:"hidden sm:inline",children:"320k/400k"})})})]})})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 sm:w-12 text-right pr-1 sm:pr-2",children:e.jsx("span",{className:"text-[8px] sm:text-[9px] text-gray-700 font-medium",children:"Sul"})}),e.jsx("div",{className:"flex-1 relative",children:e.jsxs("div",{className:"h-4 sm:h-5 bg-gray-200 rounded relative",style:{width:"90%"},children:[e.jsx("div",{className:"h-4 sm:h-5 bg-primary rounded transition-all duration-300 relative flex items-center justify-center",style:{width:"70%"},children:e.jsx("span",{className:"text-[7px] sm:text-[8px] text-white font-medium",children:"70%"})}),e.jsx("div",{className:"absolute right-0.5 sm:right-1 top-0 h-4 sm:h-5 flex items-center",children:e.jsx("span",{className:"text-[7px] sm:text-[8px] text-gray-600 font-medium",children:e.jsx("span",{className:"hidden sm:inline",children:"315k/450k"})})})]})})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 sm:w-12 text-right pr-1 sm:pr-2",children:e.jsx("span",{className:"text-[8px] sm:text-[9px] text-gray-700 font-medium",children:"Leste"})}),e.jsx("div",{className:"flex-1 relative",children:e.jsxs("div",{className:"h-4 sm:h-5 bg-gray-200 rounded relative",style:{width:"70%"},children:[e.jsx("div",{className:"h-4 sm:h-5 bg-primary rounded transition-all duration-300 relative flex items-center justify-center",style:{width:"60%"},children:e.jsx("span",{className:"text-[7px] sm:text-[8px] text-white font-medium",children:"60%"})}),e.jsx("div",{className:"absolute right-0.5 sm:right-1 top-0 h-4 sm:h-5 flex items-center",children:e.jsx("span",{className:"text-[7px] sm:text-[8px] text-gray-600 font-medium",children:e.jsx("span",{className:"hidden sm:inline",children:"210k/350k"})})})]})})]})]}),e.jsxs("div",{className:"flex items-center justify-center mt-2 sm:mt-3 space-x-3 sm:space-x-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-2 h-2 sm:w-3 sm:h-3 bg-gray-200 rounded mr-1"}),e.jsx("span",{className:"text-[8px] sm:text-[9px] text-gray-600",children:"Meta"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-2 h-2 sm:w-3 sm:h-3 bg-primary rounded mr-1"}),e.jsx("span",{className:"text-[8px] sm:text-[9px] text-gray-600",children:"Vendido"})]})]})]})})]})]})]})},ls=()=>{const r=b(),[t,s]=d.useState(""),[i,l]=d.useState("nome"),[c,a]=d.useState(!1),x=d.useRef(null),m=n=>n.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^\w\s]/gi,"").toLowerCase().trim();d.useEffect(()=>{const n=h=>{x.current&&!x.current.contains(h.target)&&a(!1)};return document.addEventListener("mousedown",n),()=>document.removeEventListener("mousedown",n)},[]);const u=[{id:1,nome:"Ótica Paris",codigo:"100456",status:"Liberado",statusColor:"bg-green-100 text-green-800",oportunidade:"R$19.000",limiteCred:"R$25.000",meta:"R$18.000",vendido:"R$9.000",bairro:"Aldeota"},{id:2,nome:"Ótica Silvano",codigo:"100789",status:"Bloqueado",statusColor:"bg-red-100 text-red-800",oportunidade:"R$15.000",limiteCred:"R$20.000",meta:"R$18.000",vendido:"R$9.000",bairro:"Meireles"},{id:3,nome:"Ótica Visão",codigo:"100123",status:"Liberado",statusColor:"bg-green-100 text-green-800",oportunidade:"R$10.000",limiteCred:"R$15.000",meta:"R$12.000",vendido:"R$4.500",bairro:"Centro"}].filter(n=>{const h=m(t);return m(n.nome).includes(h)||m(n.codigo).includes(h)}).sort((n,h)=>{switch(i){case"bairro-az":return n.bairro.localeCompare(h.bairro);case"bairro-za":return h.bairro.localeCompare(n.bairro);case"bairro":return n.bairro.localeCompare(h.bairro);case"maior-oportunidade":return parseFloat(h.oportunidade.replace("R$","").replace(".","").replace(",","."))-parseFloat(n.oportunidade.replace("R$","").replace(".","").replace(",","."));case"menor-oportunidade":return parseFloat(n.oportunidade.replace("R$","").replace(".","").replace(",","."))-parseFloat(h.oportunidade.replace("R$","").replace(".","").replace(",","."));default:return n.nome.localeCompare(h.nome)}});return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("header",{className:"bg-primary text-white shadow-lg",children:e.jsx("div",{className:"max-w-7xl mx-auto px-3 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex items-center justify-between h-14 relative",children:[e.jsx("div",{className:"flex items-center",children:e.jsx("button",{onClick:()=>r("/cidades"),className:"p-1.5 hover:bg-white/10 rounded-full transition-colors mr-2",children:e.jsx(_,{className:"h-4 w-4"})})}),e.jsx("div",{className:"flex items-center absolute left-1/2 transform -translate-x-1/2",children:e.jsx("h1",{className:"text-lg font-bold",children:"Copiloto"})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("div",{className:"flex items-center space-x-1.5",children:[e.jsx(S,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm",children:"Charles"})]}),e.jsx("button",{onClick:()=>r("/"),className:"p-1.5 hover:bg-white/10 rounded-full transition-colors",children:e.jsx(R,{className:"h-4 w-4"})})]})]})})}),e.jsxs("main",{className:"max-w-7xl mx-auto px-3 sm:px-6 lg:px-8 py-4",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(I,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Buscar Óticas...",value:t,onChange:n=>s(n.target.value),className:"w-full pl-9 pr-4 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]}),e.jsxs("div",{className:"relative flex-shrink-0",ref:x,children:[e.jsx("button",{className:"p-2 border border-gray-300 rounded-lg hover:bg-gray-50",onClick:()=>a(!c),children:e.jsx(X,{className:"h-4 w-4 text-gray-600"})}),c&&e.jsxs("div",{className:"absolute right-0 top-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg z-10 min-w-36",children:[e.jsx("button",{className:"w-full px-3 py-2 text-xs text-left hover:bg-gray-50 border-b border-gray-200",onClick:()=>{l("bairro-az"),a(!1)},children:"A-Z"}),e.jsx("button",{className:"w-full px-3 py-2 text-xs text-left hover:bg-gray-50 border-b border-gray-200",onClick:()=>{l("bairro-za"),a(!1)},children:"Z-A"}),e.jsx("button",{className:"w-full px-3 py-2 text-xs text-left hover:bg-gray-50 border-b border-gray-200",onClick:()=>{l("bairro"),a(!1)},children:"Bairro"}),e.jsx("button",{className:"w-full px-3 py-2 text-xs text-left hover:bg-gray-50 border-b border-gray-200",onClick:()=>{l("maior-oportunidade"),a(!1)},children:"Maior Oport"}),e.jsx("button",{className:"w-full px-3 py-2 text-xs text-left hover:bg-gray-50",onClick:()=>{l("menor-oportunidade"),a(!1)},children:"Menor Oport"})]})]})]}),e.jsx("div",{className:"space-y-3",children:u.map(n=>e.jsx("div",{className:"bg-white rounded-lg shadow-md border border-gray-200 p-4 hover:shadow-lg hover:border-gray-300 transition-all cursor-pointer",onClick:()=>r(`/cliente/${n.id}`),children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1.5",children:[e.jsx("h3",{className:"text-base font-semibold text-gray-900",children:n.nome}),e.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${n.statusColor}`,children:n.status}),e.jsx("span",{className:"text-xs text-gray-500",children:"Ativo"})]}),e.jsxs("p",{className:"text-xs text-gray-600 mb-2 leading-tight",children:["Código: ",n.codigo]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs leading-tight",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-green-600",children:"Oportunidade:"}),e.jsx("span",{className:"ml-1 font-semibold text-green-700",children:n.oportunidade})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("span",{className:"text-gray-600",children:"Limit Créd:"}),e.jsx("span",{className:"ml-1 font-semibold text-gray-800",children:n.limiteCred})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-blue-600",children:"Meta:"}),e.jsx("span",{className:"ml-1 font-semibold text-blue-700",children:n.meta})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("span",{className:"text-gray-600",children:"Bairro:"}),e.jsx("span",{className:"ml-1 font-semibold text-gray-800",children:n.bairro})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-purple-600",children:"Vendido:"}),e.jsx("span",{className:"ml-1 font-semibold text-purple-700",children:n.vendido})]}),e.jsx("div",{})]})]})},n.id))})]})]})},ns=()=>{const r=b(),[t,s]=d.useState(""),i=a=>a.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^\w\s]/gi,"").toLowerCase().trim(),c=[{id:1,nome:"Rota Centro",oportunidade:"R$ 10.573,00",cidades:5,oticas:25},{id:2,nome:"Rota Norte",oportunidade:"R$ 8.250,00",cidades:3,oticas:15},{id:3,nome:"Rota Sul",oportunidade:"R$ 12.800,00",cidades:4,oticas:20},{id:4,nome:"Rota Leste",oportunidade:"R$ 15.400,00",cidades:6,oticas:30}].filter(a=>{const x=i(t);return i(a.nome).includes(x)});return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("header",{className:"bg-primary text-white shadow-lg",children:e.jsx("div",{className:"max-w-7xl mx-auto px-3 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex items-center justify-between h-14 relative",children:[e.jsx("div",{className:"flex items-center",children:e.jsx("button",{onClick:()=>r("/dashboard"),className:"p-1.5 hover:bg-white/10 rounded-full transition-colors mr-2",children:e.jsx(_,{className:"h-4 w-4"})})}),e.jsx("div",{className:"flex items-center absolute left-1/2 transform -translate-x-1/2",children:e.jsx("h1",{className:"text-lg font-bold",children:"Copiloto"})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("div",{className:"flex items-center space-x-1.5",children:[e.jsx(S,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm",children:"Charles"})]}),e.jsx("button",{onClick:()=>r("/"),className:"p-1.5 hover:bg-white/10 rounded-full transition-colors",children:e.jsx(R,{className:"h-4 w-4"})})]})]})})}),e.jsxs("main",{className:"max-w-7xl mx-auto px-3 sm:px-6 lg:px-8 py-4",children:[e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"relative",children:[e.jsx(I,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Buscar rotas...",value:t,onChange:a=>s(a.target.value),className:"w-full pl-9 pr-4 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]})}),e.jsx("div",{className:"space-y-3",children:c.map(a=>e.jsx("div",{className:"bg-white rounded-lg shadow-md border border-gray-200 p-4 hover:shadow-lg hover:border-gray-300 transition-all cursor-pointer",onClick:()=>r("/cidades"),children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1.5",children:[e.jsx(Z,{className:"h-4 w-4 text-primary"}),e.jsx("h3",{className:"text-base font-semibold text-gray-900",children:a.nome})]}),e.jsx("div",{className:"mb-2"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs leading-tight",children:[e.jsx("div",{children:e.jsx("span",{className:"text-green-600",children:"Oportunidade:"})}),e.jsx("div",{className:"text-right",children:e.jsx("p",{className:"font-semibold text-green-700",children:a.oportunidade})}),e.jsxs("div",{children:[e.jsx("span",{className:"text-blue-600",children:"Cidades:"}),e.jsx("span",{className:"font-semibold text-blue-700 ml-1",children:a.cidades})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("span",{className:"text-purple-600",children:"Óticas:"}),e.jsx("span",{className:"font-semibold text-purple-700 ml-1",children:a.oticas})]})]})]})})},a.id))})]})]})},os=()=>{const r=b(),[t,s]=d.useState(""),i=a=>a.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^\w\s]/gi,"").toLowerCase().trim(),c=[{id:1,nome:"Fortaleza",somaOportunidade:"R$ 7.300,00",saldoMetas:"R$ 13.500,00",nLojas:12,indicadores:{at:2,inad:1,in:1}},{id:2,nome:"Caucaia",somaOportunidade:"R$ 5.200,00",saldoMetas:"R$ 8.000,00",nLojas:8,indicadores:{at:1,inad:2,in:0}},{id:3,nome:"Maracanaú",somaOportunidade:"R$ 4.100,00",saldoMetas:"R$ 6.000,00",nLojas:6,indicadores:{at:3,inad:1,in:0}},{id:4,nome:"Eusébio",somaOportunidade:"R$ 3.200,00",saldoMetas:"R$ 4.500,00",nLojas:4,indicadores:{at:2,inad:0,in:1}}].filter(a=>{const x=i(t);return i(a.nome).includes(x)});return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("header",{className:"bg-primary text-white shadow-lg",children:e.jsx("div",{className:"max-w-7xl mx-auto px-3 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex items-center justify-between h-14 relative",children:[e.jsx("div",{className:"flex items-center",children:e.jsx("button",{onClick:()=>r("/rotas"),className:"p-1.5 hover:bg-white/10 rounded-full transition-colors mr-2",children:e.jsx(_,{className:"h-4 w-4"})})}),e.jsx("div",{className:"flex items-center absolute left-1/2 transform -translate-x-1/2",children:e.jsx("h1",{className:"text-lg font-bold",children:"Copiloto"})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("div",{className:"flex items-center space-x-1.5",children:[e.jsx(S,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm",children:"Charles"})]}),e.jsx("button",{onClick:()=>r("/"),className:"p-1.5 hover:bg-white/10 rounded-full transition-colors",children:e.jsx(R,{className:"h-4 w-4"})})]})]})})}),e.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"relative max-w-md",children:[e.jsx(I,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Buscar cidades...",value:t,onChange:a=>s(a.target.value),className:"w-full pl-10 pr-4 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]})}),e.jsx("div",{className:"space-y-3",children:c.map(a=>e.jsx("div",{className:"bg-white rounded-lg shadow-md border border-gray-200 p-4 hover:shadow-lg hover:border-gray-300 transition-all cursor-pointer",onClick:()=>r("/clientes"),children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1.5",children:[e.jsx(Z,{className:"h-4 w-4 text-primary"}),e.jsx("h3",{className:"text-base font-semibold text-gray-900",children:a.nome}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(W,{className:"h-4 w-4 text-gray-500"}),e.jsxs("span",{className:"text-xs text-gray-600",children:[a.nLojas," óticas"]})]})]}),e.jsx("div",{className:"mb-2"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs leading-tight mb-2",children:[e.jsx("span",{className:"text-green-600",children:"Soma Oportunidade:"}),e.jsx("p",{className:"font-semibold text-green-700 text-right",children:a.somaOportunidade}),e.jsx("span",{className:"text-blue-600",children:"Saldo de Metas:"}),e.jsx("p",{className:"font-semibold text-blue-700 text-right",children:a.saldoMetas}),e.jsx("span",{className:"text-purple-600",children:"N Lojas:"}),e.jsxs("div",{className:"flex items-center justify-end space-x-2 text-xs",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),e.jsxs("span",{className:"text-gray-600",children:[a.indicadores.at," AT"]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("span",{className:"w-2 h-2 bg-red-500 rounded-full"}),e.jsxs("span",{className:"text-gray-600",children:[a.indicadores.inad," PEN"]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("span",{className:"w-2 h-2 bg-yellow-500 rounded-full"}),e.jsxs("span",{className:"text-gray-600",children:[a.indicadores.in," INA"]})]})]})]})]})})},a.id))})]})]})},is=()=>{const r=b(),{id:t}=te();console.log("Cliente ID:",t);const s={nome:"Ótica Silvano",endereco:"S LIMA DA SILVA / 123456",status:"Liberado",statusInativo:"Inativo",dados2025:{valor:"R$ 5.550,20",qnt:"Qnt: 2"},dados2024:{valor:"R$ 12.000,00",qnt:"Qnt: 5"},oportunidade:"R$ 7.000,00",meta:"R$ 13.500,00",atingimento:"Ating: 39%",mixProdutos:[{produto:"RX FEM",ob:"35%",pw:"10%"},{produto:"RX MAS",ob:"12%",pw:"10%"},{produto:"SOL FEM",ob:"23%",pw:"-"},{produto:"SOL MAS",ob:"10%",pw:"-"},{produto:"TOTAL",ob:"80%",pw:"20%"}]};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("header",{className:"bg-primary text-white shadow-lg",children:e.jsx("div",{className:"max-w-7xl mx-auto px-3 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex items-center justify-between h-14 relative",children:[e.jsx("div",{className:"flex items-center",children:e.jsx("button",{onClick:()=>r("/clientes"),className:"p-1.5 hover:bg-white/10 rounded-full transition-colors mr-2",children:e.jsx(_,{className:"h-4 w-4"})})}),e.jsx("div",{className:"flex items-center absolute left-1/2 transform -translate-x-1/2",children:e.jsx("h1",{className:"text-lg font-bold",children:"Copiloto"})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("div",{className:"flex items-center space-x-1.5",children:[e.jsx(S,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm",children:"Charles"})]}),e.jsx("button",{onClick:()=>r("/"),className:"p-1.5 hover:bg-white/10 rounded-full transition-colors",children:e.jsx(R,{className:"h-4 w-4"})})]})]})})}),e.jsx("main",{className:"max-w-4xl mx-auto px-3 sm:px-6 lg:px-8 py-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-md border border-gray-200 p-4",children:[e.jsxs("div",{className:"mb-4 pb-4 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1.5",children:[e.jsx("h2",{className:"text-base font-bold text-gray-900",children:s.nome}),e.jsx("span",{className:"bg-green-100 text-green-800 px-2 py-0.5 rounded-full text-xs font-medium",children:s.status}),e.jsx("span",{className:"bg-gray-100 text-gray-800 px-2 py-0.5 rounded-full text-xs",children:s.statusInativo})]}),e.jsx("p",{className:"text-xs text-gray-600 mb-2 leading-tight",children:s.endereco})]}),e.jsx("div",{className:"mb-4 pb-4 border-b border-gray-200",children:e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs leading-tight",children:[e.jsxs("div",{className:"leading-tight",children:[e.jsx("span",{className:"text-gray-600",children:"2025: "}),e.jsx("span",{className:"font-semibold",children:s.dados2025.valor})]}),e.jsx("div",{className:"text-right leading-tight",children:e.jsx("span",{className:"text-gray-600",children:s.dados2025.qnt})}),e.jsxs("div",{className:"leading-tight",children:[e.jsx("span",{className:"text-gray-600",children:"2024: "}),e.jsx("span",{className:"font-semibold",children:s.dados2024.valor})]}),e.jsx("div",{className:"text-right leading-tight",children:e.jsx("span",{className:"text-gray-600",children:s.dados2024.qnt})}),e.jsxs("div",{className:"leading-tight",children:[e.jsx("span",{className:"text-green-600",children:"Oport: "}),e.jsx("span",{className:"font-semibold text-green-700",children:s.oportunidade})]}),e.jsx("div",{}),e.jsxs("div",{className:"leading-tight",children:[e.jsx("span",{className:"text-blue-600",children:"Meta: "}),e.jsx("span",{className:"font-semibold text-blue-700",children:s.meta})]}),e.jsx("div",{className:"text-right leading-tight",children:e.jsx("span",{className:"text-gray-600",children:s.atingimento})})]})}),e.jsxs("div",{className:"mb-4 pb-4",children:[e.jsx("h3",{className:"text-base font-semibold text-gray-900 mb-3",children:"Mix de Produtos"}),e.jsx("div",{className:"overflow-x-auto bg-white rounded-lg shadow-lg border-2 border-primary/60",children:e.jsxs("table",{className:"w-full text-xs",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-primary/25 border-b-2 border-primary/70",children:[e.jsx("th",{className:"text-left py-2 px-3 font-bold text-gray-900",children:"Produto"}),e.jsx("th",{className:"text-center py-2 px-3 font-bold text-gray-900",children:"OB"}),e.jsx("th",{className:"text-center py-2 px-3 font-bold text-gray-900",children:"PW"})]})}),e.jsx("tbody",{children:s.mixProdutos.map((i,l)=>e.jsxs("tr",{className:`
                      ${l===s.mixProdutos.length-1?"border-t-2 border-primary bg-primary/20 font-bold":l%2===0?"bg-gray-200":"bg-white"}
                      hover:bg-primary/25 transition-colors
                    `,children:[e.jsx("td",{className:"py-2 px-3 text-black font-semibold",children:i.produto}),e.jsx("td",{className:"text-center py-2 px-3 text-black font-bold",children:i.ob}),e.jsx("td",{className:"text-center py-2 px-3 text-black font-bold",children:i.pw})]},l))})]})})]}),e.jsx("div",{className:"pt-4 border-t border-gray-200",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("button",{className:"w-full bg-primary text-white py-2.5 rounded-lg font-medium hover:bg-primary/90 transition-colors flex items-center justify-center gap-2",children:[e.jsx(H,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm",children:"Ligar"})]}),e.jsxs("button",{className:"w-full bg-green-600 text-white py-2.5 rounded-lg font-medium hover:bg-green-700 transition-colors flex items-center justify-center gap-2",children:[e.jsx(Q,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm",children:"WhatsApp"})]}),e.jsxs("button",{className:"w-full bg-gray-200 text-gray-700 py-2.5 rounded-lg font-medium hover:bg-gray-300 transition-colors flex items-center justify-center gap-2",children:[e.jsx(Xe,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm",children:"Gravar Áudio"})]})]})})]})})]})},cs=()=>{const r=b(),[t,s]=d.useState(""),[i,l]=d.useState(!1),[c,a]=d.useState("nome"),x=o=>o.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^\w\s]/gi,"").toLowerCase().trim(),m=o=>{const p=new Date,y=new Date(o.split("/").reverse().join("-")),$=p.getTime()-y.getTime();return Math.floor($/(1e3*60*60*24))},N=o=>o>30?{status:"Crítico",statusColor:"bg-red-100 text-red-800"}:o>15?{status:"Alto",statusColor:"bg-orange-100 text-orange-800"}:o>7?{status:"Médio",statusColor:"bg-yellow-100 text-yellow-800"}:{status:"Baixo",statusColor:"bg-blue-100 text-blue-800"},h=[{id:1,nome:"Ótica Vision Plus",codigo:"100789",rota:"Centro",valorTotal:"R$ 25.430,00",ultimoPagamento:"15/11/2024",telefone:"(85) 99999-1234",titulosAbertos:[{vencimento:"15/11/2024",valor:"R$ 12.500,00"},{vencimento:"30/11/2024",valor:"R$ 8.200,00"},{vencimento:"15/12/2024",valor:"R$ 4.730,00"}]},{id:2,nome:"Ótica São Paulo",codigo:"100567",rota:"Norte",valorTotal:"R$ 18.750,00",ultimoPagamento:"30/11/2024",telefone:"(85) 98888-5678",titulosAbertos:[{vencimento:"30/11/2024",valor:"R$ 10.000,00"},{vencimento:"15/12/2024",valor:"R$ 8.750,00"}]},{id:3,nome:"Ótica Moderna",codigo:"100234",rota:"Sul",valorTotal:"R$ 12.300,00",ultimoPagamento:"15/12/2024",telefone:"(85) 97777-9101",titulosAbertos:[{vencimento:"15/12/2024",valor:"R$ 7.800,00"},{vencimento:"30/12/2024",valor:"R$ 4.500,00"}]},{id:4,nome:"Ótica Elite",codigo:"100345",rota:"Leste",valorTotal:"R$ 8.920,00",ultimoPagamento:"22/12/2024",telefone:"(85) 96666-1122",titulosAbertos:[{vencimento:"22/12/2024",valor:"R$ 8.920,00"}]}].map(o=>{const p=o.titulosAbertos.map(Y=>m(Y.vencimento)),y=Math.max(...p),{status:$,statusColor:G}=N(y);return{...o,diasAtraso:y,status:$,statusColor:G}}).filter(o=>{const p=x(t);return x(o.nome).includes(p)||x(o.codigo).includes(p)||x(o.rota).includes(p)}).sort((o,p)=>{switch(c){case"rota":return o.rota.localeCompare(p.rota);case"valor-maior":return parseFloat(p.valorTotal.replace("R$ ","").replace(".","").replace(",","."))-parseFloat(o.valorTotal.replace("R$ ","").replace(".","").replace(",","."));case"valor-menor":return parseFloat(o.valorTotal.replace("R$ ","").replace(".","").replace(",","."))-parseFloat(p.valorTotal.replace("R$ ","").replace(".","").replace(",","."));case"az":return o.nome.localeCompare(p.nome);case"za":return p.nome.localeCompare(o.nome);default:return o.nome.localeCompare(p.nome)}}),g=h.length,v=h.reduce((o,p)=>o+parseFloat(p.valorTotal.replace("R$ ","").replace(".","").replace(",",".")),0),f=h.filter(o=>o.diasAtraso>30).length;return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("header",{className:"bg-primary text-white shadow-lg",children:e.jsx("div",{className:"max-w-7xl mx-auto px-3 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex items-center justify-between h-14 relative",children:[e.jsx("div",{className:"flex items-center",children:e.jsx("button",{onClick:()=>r("/dashboard"),className:"p-1.5 hover:bg-white/10 rounded-full transition-colors mr-2",children:e.jsx(_,{className:"h-4 w-4"})})}),e.jsx("div",{className:"flex items-center absolute left-1/2 transform -translate-x-1/2",children:e.jsx("h1",{className:"text-lg font-bold",children:"Copiloto"})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("div",{className:"flex items-center space-x-1.5",children:[e.jsx(S,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm",children:"Charles"})]}),e.jsx("button",{onClick:()=>r("/"),className:"p-1.5 hover:bg-white/10 rounded-full transition-colors",children:e.jsx(R,{className:"h-4 w-4"})})]})]})})}),e.jsxs("main",{className:"max-w-7xl mx-auto px-3 sm:px-6 lg:px-8 py-4",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(O,{className:"h-5 w-5 text-red-600 mr-2"}),e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Clientes Inadimplentes"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-3 sm:gap-4 mb-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-md border border-gray-200 p-3 sm:p-4",children:[e.jsx("p",{className:"text-[10px] sm:text-xs text-gray-600 mb-1",children:"Total Inadimplentes"}),e.jsx("p",{className:"text-sm sm:text-lg font-bold text-red-600",children:g})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md border border-gray-200 p-3 sm:p-4",children:[e.jsx("p",{className:"text-[10px] sm:text-xs text-gray-600 mb-1",children:"Valor Total"}),e.jsxs("p",{className:"text-sm sm:text-lg font-bold text-red-600",children:["R$ ",v.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md border border-gray-200 p-3 sm:p-4",children:[e.jsx("p",{className:"text-[10px] sm:text-xs text-gray-600 mb-1",children:"Críticos (>30d)"}),e.jsx("p",{className:"text-sm sm:text-lg font-bold text-red-600",children:f})]})]}),e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(I,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Buscar inadimplentes...",value:t,onChange:o=>s(o.target.value),className:"w-full pl-9 pr-4 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]}),e.jsxs("div",{className:"relative flex-shrink-0",children:[e.jsx("button",{className:"p-2 border border-gray-300 rounded-lg hover:bg-gray-50",onClick:()=>l(!i),children:e.jsx(X,{className:"h-4 w-4 text-gray-600"})}),i&&e.jsxs("div",{className:"absolute right-0 top-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg z-10 min-w-32",children:[e.jsx("button",{className:"w-full px-3 py-2 text-xs text-left hover:bg-gray-50 border-b border-gray-200",onClick:()=>{a("rota"),l(!1)},children:"Rota"}),e.jsx("button",{className:"w-full px-3 py-2 text-xs text-left hover:bg-gray-50 border-b border-gray-200",onClick:()=>{a("valor-maior"),l(!1)},children:"Maior Valor"}),e.jsx("button",{className:"w-full px-3 py-2 text-xs text-left hover:bg-gray-50 border-b border-gray-200",onClick:()=>{a("valor-menor"),l(!1)},children:"Menor Valor"}),e.jsx("button",{className:"w-full px-3 py-2 text-xs text-left hover:bg-gray-50 border-b border-gray-200",onClick:()=>{a("az"),l(!1)},children:"A-Z"}),e.jsx("button",{className:"w-full px-3 py-2 text-xs text-left hover:bg-gray-50",onClick:()=>{a("za"),l(!1)},children:"Z-A"})]})]})]}),e.jsx("div",{className:"space-y-3",children:h.map(o=>e.jsx("div",{className:"bg-white rounded-lg shadow-md border border-gray-200 p-4 hover:shadow-lg hover:border-gray-300 transition-all",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1.5",children:[e.jsx(O,{className:"h-4 w-4 text-red-500"}),e.jsx("h3",{className:"text-base font-semibold text-gray-900",children:o.nome}),e.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${o.statusColor}`,children:o.status})]}),e.jsxs("p",{className:"text-xs text-gray-600 mb-2 leading-tight",children:["Código: ",o.codigo]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs leading-tight mb-3",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-red-600",children:"Valor Total:"}),e.jsx("span",{className:"ml-1 font-semibold text-red-700",children:o.valorTotal})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("span",{className:"text-gray-600",children:"Rota:"}),e.jsx("span",{className:"ml-1 font-semibold text-gray-800",children:o.rota})]})]}),e.jsxs("div",{className:"border-t border-gray-100 pt-2 mb-3",children:[e.jsx("p",{className:"text-xs font-medium text-gray-700 mb-2",children:"Títulos Atrasados:"}),e.jsx("div",{className:"space-y-1",children:o.titulosAbertos.map((p,y)=>{const $=m(p.vencimento);return e.jsxs("div",{className:"grid grid-cols-3 gap-2 text-xs items-center",children:[e.jsx("span",{className:"text-gray-600",children:p.vencimento}),e.jsxs("span",{className:"text-center text-red-600 font-medium",children:[$,"d"]}),e.jsx("span",{className:"font-semibold text-red-600 text-right",children:p.valor})]},y)})})]}),e.jsx("div",{className:"border-t border-gray-100 pt-3",children:e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("button",{onClick:()=>window.open(`tel:${o.telefone}`,"_self"),className:"w-full bg-primary text-white py-2 sm:py-2.5 rounded-lg font-medium hover:bg-primary/90 transition-colors flex items-center justify-center gap-2",children:[e.jsx(H,{className:"h-4 w-4"}),e.jsx("span",{className:"text-xs sm:text-sm",children:"Ligar"})]}),e.jsxs("button",{onClick:()=>window.open(`https://wa.me/${o.telefone.replace(/\D/g,"")}`,"_blank"),className:"w-full bg-green-600 text-white py-2 sm:py-2.5 rounded-lg font-medium hover:bg-green-700 transition-colors flex items-center justify-center gap-2",children:[e.jsx(Q,{className:"h-4 w-4"}),e.jsx("span",{className:"text-xs sm:text-sm",children:"WhatsApp"})]})]})})]})},o.id))})]})]})},k=({children:r})=>{const{user:t,loading:s}=T();return s?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Carregando..."})]})}):t?e.jsx(e.Fragment,{children:r}):e.jsx(re,{to:"/",replace:!0})},ds=ae([{path:"/",element:e.jsx(rs,{})},{path:"/dashboard",element:e.jsx(k,{children:e.jsx(C,{children:e.jsx(as,{})})})},{path:"/clientes",element:e.jsx(k,{children:e.jsx(C,{children:e.jsx(ls,{})})})},{path:"/rotas",element:e.jsx(k,{children:e.jsx(C,{children:e.jsx(ns,{})})})},{path:"/cidades",element:e.jsx(k,{children:e.jsx(C,{children:e.jsx(os,{})})})},{path:"/cliente/:id",element:e.jsx(k,{children:e.jsx(C,{children:e.jsx(is,{})})})},{path:"/inadimplentes",element:e.jsx(k,{children:e.jsx(C,{children:e.jsx(cs,{})})})}]);function ms(){return e.jsx(ye,{children:e.jsx(le,{router:ds})})}xe.createRoot(document.getElementById("root")).render(e.jsx(ne.StrictMode,{children:e.jsx(ms,{})}));
